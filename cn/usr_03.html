<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta name="description" content="vim out of the box">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<title>Nvim 文档: usr_03</title>
	<link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
	<link href="../css/normalize.min.css" rel="stylesheet">
	<link href="../css/bootstrap.css" rel="stylesheet">
	<link href="../css/main.css" rel="stylesheet">
	<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
	<header class="container">
		<nav class="navbar navbar-expand-lg">
			<div class="container-fluid">
				<a href="/" class="navbar-brand" aria-label="logo">
					<svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214"
						aria-label="Neovim">
						<title>Neovim</title>
						<defs>
							<linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
								<stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
								<stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
							</linearGradient>
							<linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
								<stop stop-color="#7DB643" offset="0%" />
								<stop stop-color="#367533" offset="100%" />
							</linearGradient>
							<linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
								<stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
								<stop stop-color="#439240" stop-opacity=".84" offset="100%" />
							</linearGradient>
						</defs>
						<g fill="none" fill-rule="evenodd">
							<path d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z" fill="url(#a)"
								transform="translate(1 1)" />
							<path d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z" fill="url(#b)"
								transform="matrix(-1 0 0 1 305 1)" />
							<path d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z" fill="url(#c)"
								transform="translate(1 1)" />
							<path d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
								fill-opacity=".13" fill="#000" />
							<g fill="#444">
								<path
									d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
									fill="currentColor" />
								<path
									d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
									fill="currentColor" fill-opacity=".8" />
							</g>
						</g>
					</svg>
				</a>
			</div>
		</nav>
	</header>

	<div class="container">
		<h1>Nvim 文档: usr_03</h1>
		<A NAME="top"></A>
		<A HREF="index.html">主帮助文件</A>

		<HR>
		<PRE>

*<A NAME="usr_03.txt"></A><B>usr_03.txt</B>*	Nvim

		     VIM用户手册 - by Bram Moolenaar

			    移动 


在你插入或者删除之前，你需要移动到合适的位置。Vim 有一大堆命令可以移动光标。本章向你介绍最重要的那些.你可以在|<A HREF="quickref.html#Q_lr">Q_lr</A>|中找到这些命令的<A HREF="eval.html#list">列表</A>.

|<A HREF="#03.1">03.1</A>|	词<A HREF="intro.html#movement">移动</A>
|<A HREF="#03.2">03.2</A>|	移动到行首或行尾
|<A HREF="#03.3">03.3</A>|	移动一个字符
|<A HREF="#03.4">03.4</A>|	括号匹配
|<A HREF="#03.5">03.5</A>|	移动到指定行
|<A HREF="#03.6">03.6</A>|	确认当前位置
|<A HREF="#03.7">03.7</A>|	滚动
|<A HREF="#03.8">03.8</A>|	简单搜索
|<A HREF="#03.9">03.9</A>|	简单搜索模式
|<A HREF="#03.10">03.10</A>|	使用标记

下一章: |<A HREF="usr_04.html">usr_04.txt</A>|  做小改动
上一章: |<A HREF="usr_02.html">usr_02.txt</A>|  Vim初步
目录:   |<A HREF="usr_toc.html">usr_toc.txt</A>|

==============================================================================

*<A NAME="03.1"></A><B>03.1</B>*	词<A HREF="intro.html#movement">移动</A>

移动光标向前跳一个<A HREF="motion.html#word">单词</A>,使用&quot;<A HREF="motion.html#w">w</A>&quot;命令.像大多数 Vim 命令一样，你可以在命令前加数字前缀表示把这个命令重复多次.例如,&quot;3w&quot;移动三个单词.下面的图形展现了<A HREF="motion.html#it">它</A>如何工作的(从&quot;x&quot;的位置开始):

<B><FONT color="#3A6F2B">	This is a line with example text </FONT></B>
	  x--&gt;--&gt;-&gt;-----------------&gt;
	   <A HREF="motion.html#w">w</A>  <A HREF="motion.html#w">w</A>  <A HREF="motion.html#w">w</A>    3w

注意如果光标在单词的开始，&quot;<A HREF="motion.html#w">w</A>&quot;会移动到下一个<A HREF="motion.html#word">单词</A>的开始。&quot;<A HREF="motion.html#b">b</A>&quot;命令移动到前一个<A HREF="motion.html#word">单词</A>的字首:

<B><FONT color="#3A6F2B">	This is a line with example text </FONT></B>
	&lt;----&lt;--&lt;-&lt;---------&lt;--x
	   <A HREF="motion.html#b">b</A>   <A HREF="motion.html#b">b</A> <A HREF="motion.html#b">b</A>    2b      <A HREF="motion.html#b">b</A>

也有&quot;<A HREF="motion.html#e">e</A>&quot;命令移动到下一个<A HREF="motion.html#word">单词</A>的字尾和&quot;<A HREF="motion.html#ge">ge</A>&quot;命令移动到前一个<A HREF="motion.html#word">单词</A>的字尾:

<B><FONT color="#3A6F2B">	This is a line with example text </FONT></B>
	   &lt;----&lt;----x----&gt;------------&gt;
	   2ge   <A HREF="motion.html#ge">ge</A>     <A HREF="motion.html#e">e</A>       2e

如果你在一行的最后一个<A HREF="motion.html#word">单词</A>,使用&quot;<A HREF="motion.html#w">w</A>&quot;命令将会移动下一行第一个<A HREF="motion.html#word">单词</A>.因此你可以使用这个命令去移动<A HREF="motion.html#paragraph">段落</A>,它比&quot;<A HREF="motion.html#l">l</A>&quot;&quot;快的多.<A HREF="motion.html#b">b</A>&quot;在反方向完成此功能.

一个<A HREF="motion.html#word">单词</A>以非单词字符结尾, 诸如&quot;<A HREF="repeat.html#.">.</A>&quot;, &quot;<A HREF="motion.html#-">-</A>&quot; or &quot;<A HREF="motion.html#)">)</A>&quot;.要改变Vim对于<A HREF="motion.html#word">单词</A>的判断, 查看<A HREF="options.html#'iskeyword'">'iskeyword'</A>选项.如果你想直接在帮助中尝试它, <A HREF="options.html#'iskeyword'">'iskeyword'</A>需要重新设定，示例才能工作:
<B>	:set iskeyword&amp;</B>
尽可能使用<A HREF="pattern.html#white-space">空格</A>分开单词.这不是通常意义的<A HREF="motion.html#word">单词</A>,这也是我们为什么使用<A HREF="change.html#uppercase">大写</A>.按字串移动的命令也全都是<A HREF="change.html#uppercase">大写</A>, 像下图这样:

	       <A HREF="motion.html#ge">ge</A>      <A HREF="motion.html#b">b</A>	  <A HREF="motion.html#w">w</A>				<A HREF="motion.html#e">e</A>
	       &lt;-     &lt;-	 ---&gt;			       ---&gt;
<B><FONT color="#3A6F2B">	This is-a line, with special/separated/words (and some more). </FONT></B>
	   &lt;----- &lt;-----	 --------------------&gt;	       -----&gt;
	     <A HREF="motion.html#gE">gE</A>      <A HREF="motion.html#B">B</A>			 <A HREF="motion.html#W">W</A>			 <A HREF="motion.html#E">E</A>

组合使用<A HREF="change.html#lowercase">小写</A>和<A HREF="change.html#uppercase">大写</A>命令,你能在<A HREF="motion.html#paragraph">段落</A>快速向前向后移动.

==============================================================================

*<A NAME="03.2"></A><B>03.2</B>*	移动到行首或行尾

&quot;<A HREF="motion.html#$">$</A>&quot;命令移动光标到行尾.如果你的键盘有<A HREF="motion.html#&lt;End&gt;">&lt;End&gt;</A>键<A HREF="motion.html#it">它</A>将<A HREF="diff.html#do">做</A>相同的事.

&quot;<A HREF="motion.html#^">^</A>&quot;命令移动到此行第一个非空字符处.&quot;<A HREF="motion.html#0">0</A>&quot;命令使光标移动到行首第一个字符和<A HREF="motion.html#&lt;Home&gt;">&lt;Home&gt;</A>做了同样的事.  如下(&quot;.&quot;代表空格):

		  ^
	     &lt;-----------x
<B><FONT color="#3A6F2B">	.....This is a line with example text </FONT></B>
	&lt;----------------x   x--------------&gt;
		0		   $

(&quot;.....&quot;这里表示空格)

像大多数<A HREF="intro.html#movement">移动</A>命令,&quot;<A HREF="motion.html#$">$</A>&quot;命令可以接受<A HREF="intro.html#count">数量</A>前缀.但是 "移动到一行的行尾 n 次"没有什么意义.因此<A HREF="motion.html#it">它</A>会是光标移动到其他行e.例如,&quot;1$&quot; moves you to移动到当前行的行尾，而"2$" 则移动到下一行的行尾，如此类推.
&quot;<A HREF="motion.html#0">0</A>&quot;命令不接受<A HREF="intro.html#count">数量</A>前缀,因为&quot;<A HREF="motion.html#0">0</A>&quot;已经是<A HREF="intro.html#count">数字</A>了.出人意料的是，使用<A HREF="intro.html#count">数字</A>到&quot;<A HREF="motion.html#^">^</A>&quot;没有反应.

==============================================================================

*<A NAME="03.3"></A><B>03.3</B>*	移动一个字符

最有用的<A HREF="intro.html#movement">移动</A>命令是单字符查找命令.这个命令&quot;fx&quot;向前查找单字符<A HREF="change.html#x">x</A>.提示: &quot;<A HREF="motion.html#f">f</A>&quot;表示&quot;Find&quot;.
例如,你在下面例子的开始.假定你想要去human的<A HREF="motion.html#h">h</A>.只使用&quot;fh&quot;光标将会定位到<A HREF="motion.html#h">h</A>:

<B><FONT color="#3A6F2B">	To err is human.  To really foul up you need a computer. </FONT></B>
	------------&gt;-----------------&gt;
	    fh		 fy

你也能看到，&quot;fy&quot;会移动到<A HREF="motion.html#word">单词</A>really的结尾.
你也可以添加<A HREF="intro.html#count">数量</A>修饰;所以你如果找&quot;foul&quot;的&quot;<A HREF="motion.html#l">l</A>&quot;可以使用&quot;3fl&quot;:

<B><FONT color="#3A6F2B">	To err is human.  To really foul up you need a computer. </FONT></B>
		  --------------------------&gt;
			   3fl

&quot;<A HREF="motion.html#F">F</A>&quot;命令是向左查询:

<B><FONT color="#3A6F2B">	To err is human.  To really foul up you need a computer. </FONT></B>
		     &lt;----------------
			    Fh

&quot;tx&quot;命令很像&quot;fx&quot;命令,除了<A HREF="motion.html#it">它</A>只把光标移动到目标字符的前一个字符上.提示: &quot;<A HREF="motion.html#t">t</A>&quot;代表&quot;To&quot;.这个命令的反向版本是&quot;Tx&quot;.

<B><FONT color="#3A6F2B">	To err is human.  To really foul up you need a computer. </FONT></B>
		     &lt;------------  -----------------&gt;
			Th		tn

这四个命令可以通过&quot;<A HREF="motion.html#;">;</A>&quot;重复.  &quot;<A HREF="motion.html#,">,</A>&quot;反向重复.无论用哪个命令，光标永远都不会移出当前行，哪怕这两行是连续的一个<A HREF="motion.html#sentence">sentence</A>.

有时你启动了一个查找命令后才发现自己执行了一个错误的命令.如你键入了&quot;<A HREF="motion.html#f">f</A>&quot;之后意识到你想要键入&quot;<A HREF="motion.html#F">F</A>&quot;.想要打断查询，可以键入<A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A>.所以&quot;f&lt;Esc&gt;&quot;是一个打断向前查找并不<A HREF="diff.html#do">做</A>任何事情.注意:<A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A>能取消大部分操作，不只是查询.
==============================================================================

*<A NAME="03.4"></A><B>03.4</B>*	括号匹配

当你经常<A HREF="editing.html#writing">写</A>程序会遇到嵌套的 () 结构.此时&quot;<A HREF="motion.html#&#37;">&#37;</A>&quot;命令是非常有用的: 它会移动到匹配的括号上.如果光标在一个&quot;<A HREF="motion.html#(">(</A>&quot; <A HREF="motion.html#it">它</A>将会移动匹配的&quot;<A HREF="motion.html#)">)</A>&quot;上.如果它在&quot;<A HREF="motion.html#)">)</A>&quot; <A HREF="motion.html#it">它</A>将移动到&quot;<A HREF="motion.html#(">(</A>&quot;上.

			    <A HREF="motion.html#&#37;">&#37;</A>
			 &lt;-----&gt;
<B><FONT color="#3A6F2B">		if (a == (b * c) / d) </FONT></B>
		   &lt;----------------&gt;
			    <A HREF="motion.html#&#37;">&#37;</A>

它也能在<A HREF="motion.html#[]">[]</A>和<A HREF="intro.html#{}">{}</A>上工作.(可用<A HREF="options.html#'matchpairs'">'matchpairs'</A>选项定义.)

当光标不在有用的字符上时, &quot;<A HREF="motion.html#&#37;">&#37;</A>&quot;将会向前查抄一个有用的字符.因此如果光标在例子的行首,&quot;<A HREF="motion.html#&#37;">&#37;</A>&quot;会向前查找第一个&quot;<A HREF="motion.html#(">(</A>&quot;.然后<A HREF="motion.html#it">它</A>移动到匹配的字符上:

<B><FONT color="#3A6F2B">		if (a == (b * c) / d) </FONT></B>
		---+----------------&gt;
			   <A HREF="motion.html#&#37;">&#37;</A>

==============================================================================

*<A NAME="03.5"></A><B>03.5</B>*	移动到指定行

如果你是一个 C 或者 C++ 程序员，你对下面这样的错误<A HREF="message.html#messages">信息</A>非常熟悉:

<B><FONT color="#3A6F2B">	prog.c:33: j   undeclared (first use in this function) </FONT></B>

它告诉你在33行你需要进行修改一些东西.所以你要怎么去第33行?一种方法是<A HREF="diff.html#do">使用</A>&quot;9999k&quot;回到文件头再使用&quot;32j&quot;t向下移动32行.这不是一个好方法,但<A HREF="motion.html#it">它</A>可以工作.更好的方式是使用&quot;<A HREF="motion.html#G">G</A>&quot;命令. 使用<A HREF="intro.html#count">数字</A>,这个命令会让光标定位到你指定的行.例如, &quot;33G&quot;把你带到33行.  (要用更好的方法在编译器的错误<A HREF="eval.html#list">列表</A>中移动,见|<A HREF="usr_30.html">usr_30.txt</A>|, 的<A HREF="quickfix.html#:make">:make</A>命令部分.)
如果没有计数前缀,&quot;<A HREF="motion.html#G">G</A>&quot;会定位到文件尾.快速定位到文件首可以使用&quot;<A HREF="motion.html#gg">gg</A>&quot;.&quot;1G&quot;也会<A HREF="diff.html#do">做</A>相同的事,但却要打更多字符.

	    &#124;	first line of a file   ^
	    &#124;	text text text text    |
	    &#124;	text text text text    &#124;  <A HREF="motion.html#gg">gg</A>
	7G  &#124;	text text text text    |
	    &#124;	text text text text
	    &#124;	text text text text
	    <A HREF="visual.html#V">V</A>	text text text text    |
		text text text text    &#124;  <A HREF="motion.html#G">G</A>
		text text text text    |
		last line of a file    <A HREF="visual.html#V">V</A>

另一个定位行的方法是使用带计数前缀的&quot;<A HREF="motion.html#&#37;">&#37;</A>&quot;命令.例如&quot;50&#37;&quot;会移动到文件中间,&quot;90&#37;&quot;会移动到接近文件未的位置.

前面的描述假定你想移动到文件中的某一行，而不在乎它是否可见。那么如何移动到视野之内的一行呢？下图演示了三个可以使用的命令:

			+---------------------------+
		<A HREF="motion.html#H">H</A> --&gt;	&#124; text sample text	    |
			&#124; sample text		    |
			&#124; text sample text	    |
			&#124; sample text		    |
		<A HREF="motion.html#M">M</A> --&gt;	&#124; text sample text	    |
			&#124; sample text		    |
			&#124; text sample text	    |
			&#124; sample text		    |
		<A HREF="motion.html#L">L</A> --&gt;	&#124; text sample text	    |
			+---------------------------+

提示: &quot;<A HREF="motion.html#H">H</A>&quot;代表Home, &quot;<A HREF="motion.html#M">M</A>&quot;代表Middle和&quot;<A HREF="motion.html#L">L</A>&quot;代表Last.另外一种记法,&quot;<A HREF="motion.html#H">H</A>&quot;代表high, &quot;<A HREF="motion.html#M">M</A>&quot;代表Middle和&quot;<A HREF="motion.html#L">L</A>&quot;代表low.

==============================================================================

*<A NAME="03.6"></A><B>03.6</B>*	确认当前位置

如果查看你在文件的位置，有三种方法:

1.  使用<A HREF="editing.html#CTRL-G">CTRL-G</A>命令.你可以获得下面的信息(假定<A HREF="options.html#'ruler'">'ruler'</A>选项是off):

<B><FONT color="#3A6F2B">	"usr_03.txt" line 233 of 650 --35%-- col 45-52 </FONT></B>

    它显示了你编辑的文件名，光标所在的行号，总行数和光标再文件中行号占比.
    有时你能看到分开的行号.例如, &quot;col 2-9&quot;.这表示光标处于第二个字符上，但由于使用了制表符，在屏幕上的位置是 9.

2.  设置<A HREF="options.html#'number'">'number'</A>选项.这会再每一行前面显示行号:

<B>	:set number</B>
 
    要重新关闭这个选项:

<B>	:set nonumber</B>
 
    因为<A HREF="options.html#'number'">'number'</A>是一个<A HREF="options.html#boolean">boolean</A>选项, 关闭它既加上前缀&quot;no&quot;.<A HREF="options.html#boolean">boolean</A>选项只有两个值,on或off.
    Vim有很多<A HREF="options.html#options">选项</A>.  再<A HREF="options.html#boolean">boolean</A>选项外还有数字<A HREF="options.html#options">选项</A>和<A HREF="options.html#options">字符串</A><A HREF="options.html#options">选项</A>.在用到的时候会给出一些例子的.

3.  设置<A HREF="options.html#'ruler'">'ruler'</A>选项.  这会再Vim<A HREF="windows.html#window">窗口</A>的右下角显示当前光标的位置:

<B>	:set ruler</B>

使用<A HREF="options.html#'ruler'">'ruler'</A>选项的好处是<A HREF="motion.html#it">它</A>不占多少地方,从而可以留下更多的地方给你的文本.

==============================================================================

*<A NAME="03.7"></A><B>03.7</B>*	滚动

<A HREF="scroll.html#CTRL-U">CTRL-U</A> 命令向下滚动半屏.想象一下通过<A HREF="windows.html#window">窗口</A>查看文本并且移动该<A HREF="windows.html#window">窗口</A>一般的高度.因此<A HREF="windows.html#window">窗口</A>移动到当前文字的上面，而文字则移到窗口的下面。不用担心记不住那边是上。很多人都是这样.
   <A HREF="scroll.html#CTRL-D">CTRL-D</A>命令把<A HREF="windows.html#window">窗口</A>命令把视窗向下移动半屏，所以把文字向上移动半屏.

				       +----------------+
				       &#124; some text	|
				       &#124; some text	|
				       &#124; some text	|
	+---------------+	       &#124; some text	|
	&#124; some text	&#124;  <A HREF="scroll.html#CTRL-U">CTRL-U</A>  --&gt; &#124;		|
	&#124;		&#124;	       &#124; 123456		|
	&#124; 123456	&#124;	       +----------------+
	&#124; 7890		|
	&#124;		&#124;	       +----------------+
	&#124; example	&#124;  <A HREF="scroll.html#CTRL-D">CTRL-D</A> --&gt;  &#124; 7890		|
	+---------------+	       &#124;		|
				       &#124; example	|
				       &#124; example	|
				       &#124; example	|
				       &#124; example	|
				       +----------------+

每次滚动一行可以使用<A HREF="scroll.html#CTRL-E">CTRL-E</A> (向上)和<A HREF="scroll.html#CTRL-Y">CTRL-Y</A> (向下).可以认为<A HREF="scroll.html#CTRL-E">CTRL-E</A>给了你额外的一行a.  (如果你使用MS-Windows兼容的按键映射<A HREF="scroll.html#CTRL-Y">CTRL-Y</A>会使用<A HREF="undo.html#redo">重做</A>代替滚动.)

正向滚动整屏(减去两行)使用<A HREF="scroll.html#CTRL-F">CTRL-F</A>.相反的使用<A HREF="scroll.html#CTRL-B">CTRL-B</A>.应该很容易记住: <A HREF="motion.html#F">F</A>代表Forwards和<A HREF="motion.html#B">B</A>代表Backwards.

有一个问题是当向下移动很多行时在使用&quot;<A HREF="motion.html#j">j</A>&quot;你的光标是在屏幕的最下面.而你可能想要看到光标所在行的<A HREF="repeat.html#context">内容</A>.这可以使用&quot;<A HREF="scroll.html#zz">zz</A>&quot;命令实现.
	+------------------+		 +------------------+
	&#124; earlier text	   &#124;		 &#124; earlier text	    |
	&#124; earlier text	   &#124;		 &#124; earlier text	    |
	&#124; earlier text	   &#124;		 &#124; earlier text	    |
	&#124; earlier text	   &#124;   <A HREF="scroll.html#zz">zz</A>  --&gt;	 &#124; line with cursor |
	&#124; earlier text	   &#124;		 &#124; later text	    |
	&#124; earlier text	   &#124;		 &#124; later text	    |
	&#124; line with cursor &#124;		 &#124; later text	    |
	+------------------+		 +------------------+

&quot;<A HREF="scroll.html#zt">zt</A>&quot;命令把光标所在行放到顶部,&quot;<A HREF="scroll.html#zb">zb</A>&quot;放在底部.有很多<A HREF="scroll.html#scrolling">滚动</A>命令, 见 |<A HREF="quickref.html#Q_sc">Q_sc</A>|.要使一些行的<A HREF="repeat.html#context">内容</A>总是保持在光标周围,使用<A HREF="options.html#'scrolloff'">'scrolloff'</A>选项.

==============================================================================

*<A NAME="03.8"></A><B>03.8</B>*	简单搜索

搜索一个<A HREF="options.html#options">字符串</A>,使用&quot;/string&quot;命令.例如，查找<A HREF="motion.html#word">单词</A> include,使用命令:

<B>	/include</B>

你会注意到当你键入&quot;<A HREF="pattern.html#/">/</A>&quot;时光标会想冒号命令一样跳转到Vim<A HREF="windows.html#window">窗口</A>的最后一行.那是你键入<A HREF="motion.html#word">单词</A>.你可以使用空格键(方向键和<A HREF="motion.html#&lt;BS&gt;">&lt;BS&gt;</A>)去更正错误.使用<A HREF="motion.html#&lt;Left&gt;">&lt;Left&gt;</A>和<A HREF="motion.html#&lt;Right&gt;">&lt;Right&gt;</A>当你需要的时候.使用<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>执行命令.

	注意:
	字符.*[]^&#37;/\?~$有特殊含义.如果你想要在查找时找到它们，你必须使用\符号在输入前转义它们。见下面.

使用&quot;<A HREF="pattern.html#n">n</A>&quot;命令查找下一个匹配的字符串.使用下面的命令去发现光标后第一个#include:

<B>	/#include</B>

然后键入几次&quot;<A HREF="pattern.html#n">n</A>&quot;.你会在之后的文本中找到每一个#include.如果你知道匹配的<A HREF="intro.html#count">次数</A>可以在这个命令前面增加计数前缀.因此&quot;3n&quot;是第三个匹配的位置置.你也能在&quot;<A HREF="pattern.html#/">/</A>&quot;前添加数量: &quot;4/the&quot;会找到第四个匹配&quot;the&quot;的位置.

&quot;<A HREF="pattern.html#?">?</A>&quot;命令像&quot;<A HREF="pattern.html#/">/</A>&quot;但是是反方向查找:

<B>	?word</B>

&quot;<A HREF="pattern.html#N">N</A>&quot;命令反方向重复查找.因此在&quot;<a href="pattern.html#/">/</a>&quot;命令后,使用&quot;<A href="pattern.html#n">n</a>&quot;反方向查找,在&quot;<A HREF="pattern.html#?">?</A>&quot;后使用&quot;<A HREF="pattern.html#N">N</A>&quot;正向查找.


忽略大小写

通常，你需要正确的键入你想要查找的内容Normally you have to type exactly what you want to find.如果你不关心单词的大写或者<A HREF="change.html#lowercase">小写</A>,可以查看<A HREF="options.html#'ignorecase'">'ignorecase'</A>选项:

<B>	:set ignorecase</B>

如果你想查找&quot;<A HREF="motion.html#word">word</A>&quot;, <A HREF="motion.html#it">它</A> 也会匹配&quot;Word&quot;和&quot;<A HREF="motion.html#word">WORD</A>&quot;.如果要进行区分使用下面的命令:

<B>	:set noignorecase</B>


历史

加入你<A HREF="diff.html#do">做</A>了三次查询:

<B>	/one</B>
<B>	/two</B>
<B>	/three</B>

现在我们输入&quot;<A HREF="pattern.html#/">/</A>&quot;进行简单的查找，但先不使用<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>.如果你使用<A HREF="motion.html#&lt;Up&gt;">&lt;Up&gt;</A> (上箭头),Vim会把&quot;/three&quot;放到你的命令行上. 使用<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>会在当前位置查找three.如果你没有使用<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>,继续使用<A HREF="motion.html#&lt;Up&gt;">&lt;Up&gt;</A>,Vim会显示&quot;/two&quot;.继续使用<A HREF="motion.html#&lt;Up&gt;">&lt;Up&gt;</A>Vim显示&quot;/one&quot;.
   如果你使用<A HREF="motion.html#&lt;Down&gt;">&lt;Down&gt;</A> 会在<A HREF="cmdline.html#history">历史</A>记录钟反向查找.

如果你知道之前<A HREF="pattern.html#pattern">正则表达式</A>的开头,并且你想要再一次使用<A HREF="motion.html#it">它</A>,在使用<A HREF="motion.html#&lt;Up&gt;">&lt;Up&gt;</A>前先键入正则表达式的前几个字符.例如,你可以键入&quot;/o&lt;Up&gt;&quot;会在命令行上显示&quot;/one&quot;.

使用&quot;<A HREF="cmdline.html#:">:</A>&quot;开头的命令也有<A HREF="cmdline.html#history">历史</A>记录.这会让你能取到之前的命令并执行<A HREF="motion.html#it">它</A>.这两种历史记录是分开的.


在文本中查找<A HREF="motion.html#word">单词</A> 

假如你在文本中看到一个<A HREF="motion.html#word">单词</A> &quot;TheLongFunctionName&quot;并且找到下一个相同的单词.你可以键入&quot;/TheLongFunctionName&quot;,但是这样做会输入很多字符.并且如果输错了，Vim 是不可能找到你要找的单词的。
   有一种简单的方法解决: 让光标移动到你要查询的<A HREF="motion.html#word">单词</A>上并且使用&quot;*&quot;命令.Vim将会抓取在光标下的<A HREF="motion.html#word">单词</A>并且使用<A HREF="motion.html#it">它</A> <A HREF="motion.html#as">作为</A>查询<A HREF="options.html#options">字符串</A>.
   &quot;<A HREF="pattern.html##">#</A>&quot;命令反方向做同样的事.你可以添加一个<A HREF="intro.html#count">数字</A>前缀: &quot;3*&quot;查询光标下第三次出现的相同<A HREF="motion.html#word">单词</A>.


查找整个单词

如果你键入&quot;/the&quot; <A HREF="motion.html#it">它</A>可能会匹配&quot;there&quot;.只要查找&quot;the&quot;可以使用:

<B>	/the\&gt;</B>

&quot;\&gt;&quot;是一个只匹配<A HREF="motion.html#word">单词</A>结尾的特殊符号.同样的还有&quot;\&lt;&quot;只匹配<A HREF="motion.html#word">单词</A>的开头.因此只查询<A HREF="motion.html#word">单词</A> &quot;the&quot;使用:

<B>	/\&lt;the\&gt;</B>

这就不会匹配&quot;there&quot;或&quot;soothe&quot;.注意使用&quot;*&quot;和&quot;<A HREF="pattern.html##">#</A>&quot;命令使用了词首词尾标记整个单词(你可以使用&quot;g*&quot;和&quot;<A HREF="pattern.html#g#">g#</A>&quot;去部分匹配).


高亮匹配

当你编辑程序时，你看到一个叫&quot;nr&quot;的变量.你想要查看它在哪里使用到.你可以移动光标到&quot;nr&quot; 然后使用&quot;*&quot;命令，然后使用&quot;<A HREF="pattern.html#n">n</A>&quot;命令遍历所有的匹配项.

Vim会高亮所有的匹配项。这是一个查看所有变量使用的好方法，而且还不需要键入命令。
   关掉此功能使用:

<B>	:set nohlsearch</B>

如果你想要下一次查询时使用高亮，你可以这样启用<A HREF="motion.html#it">它</A>:

<B>	:set hlsearch</B>

如果你想要移除高亮:

<B>	:nohlsearch</B>

它没有复位设置.实际上, <A HREF="motion.html#it">它</A>只是关闭了高亮.当你再一次进行查询时，高亮会再次出现。对于&quot;<A HREF="pattern.html#n">n</A>&quot; and &quot;<A HREF="pattern.html#N">N</A>&quot;命令也成立.


调节查询

有一些改变查询工作方式的<A HREF="options.html#options">选项</A>.有一些重要的选项:

<B>	:set nowrapscan</B>

查询到文件尾后停止查询.或者当你反相向查找时，<A HREF="motion.html#it">它</A>在文件首停止查询.<A HREF="options.html#'wrapscan'">'wrapscan'</A>选项时默认开启的,所以在找到文件尾的时候会自动折返到文件头.

<B>	:set noincsearch</B>

这会在你键入查询内容时不展示匹配项.

插曲

如果你喜欢之前提及的<A HREF="options.html#options">选项</A>,你不许在每次使用Vim的时候设置<A HREF="motion.html#it">它</A>,你可以把这些命令放到Vim的<A HREF="starting.html#startup">开始</A>文件中.编辑这个文件,例如:

<B>	:edit ~/.config/nvim/init.vim</B>

然后在文中加一行命令来设置这些选项，就好像你在 Vim 中输入一样，例如:

<B>	Go:set hlsearch&lt;Esc&gt;</B>

&quot;<A HREF="motion.html#G">G</A>&quot;移动到文件尾.  &quot;<A HREF="insert.html#o">o</A>&quot;新建一行，然后在哪里输入&quot;<A HREF="options.html#:set">:set</A>&quot;命令.然后使用<A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A>结束插入模式.保存关闭文件:

<B>	ZZ</B>

如果重新打开Vim，<A HREF="options.html#'hlsearch'">'hlsearch'</A>已经被设置了.

==============================================================================

*<A NAME="03.9"></A><B>03.9</B>*	简单搜索模式

Vim使用正则表达式去要求查找内容.正则表达式时一种非常强大的并且紧凑轻易查询<A HREF="pattern.html#pattern">模式</A>的方法.但是非常不幸，这种强大的功能是有代价的，因为使用它需要掌握一些技巧.
   本章我们只介绍一些基本的正则表达式。要了解更多的关于查找模式和命令，请参考 第 27 章|<A HREF="usr_27.html">usr_27.txt</A>|.这里你能知道所有的正则描述: |<A HREF="pattern.html#pattern">pattern</A>|.

行首和行尾

^字符匹配一行的开始.在英语键盘上你能在数字6上找到<A HREF="motion.html#it">它</A>.<A HREF="pattern.html#pattern">模式</A> &quot;include&quot;匹配在一行上任意位置的<A HREF="motion.html#word">单词</A> include.但是使用<A HREF="pattern.html#pattern">模式</A> &quot;^include&quot;只匹配行首<A HREF="motion.html#word">单词</A>是include的.
   $字符只匹配行尾.因此,&quot;was$&quot;只匹配行尾<A HREF="motion.html#word">单词</A>是was的.

让我们使用&quot;x&quot;<A HREF="motion.html#mark">标记出</A>&quot;/the&quot;在例子中匹配的地方:

<B><FONT color="#3A6F2B">	the solder holding one of the chips melted and the </FONT></B>
	 xxx			       xxx		       xxx

如果使用&quot;/the$&quot;是这样:

<B><FONT color="#3A6F2B">	the solder holding one of the chips melted and the </FONT></B>
						               xxx

如果使用&quot;/^the&quot;是这样:
<B><FONT color="#3A6F2B">	the solder holding one of the chips melted and the </FONT></B>
	 xxx

你可以使用&quot;/^the$&quot;去查找; <A HREF="motion.html#it">它</A>会只匹配完全由&quot;the&quot;构成的单行.空格并不会被匹配,因此如果一个<A HREF="motion.html#word">单词</A>后面有空格,向&quot;the &quot;<A HREF="motion.html#,">,</A>这个<A HREF="pattern.html#pattern">模式</A>不会匹配.

匹配单个字符

. (点)会和任何字符匹配.例如,<A HREF="pattern.html#pattern">模式</A> &quot;c.m&quot;会匹配一个<A HREF="options.html#options">字符串</A>.这个字符串的第一个字符是<A HREF="change.html#c">c</A>,第二个字符没有限制,第三个字符是<A HREF="motion.html#m">m</A>.例如:

<B><FONT color="#3A6F2B">	We use a computer that became the cummin winter. </FONT></B>
		    xxx		      xxx	xxx

匹配特殊字符

如果你真的想要匹配一个点,你必须在它之前，使用<A HREF="intro.html#backslash">反斜线</A>避免特殊含义.例如如果你要搜索&quot;ter.&quot;,你会发现这些匹配项:

<B><FONT color="#3A6F2B">	We use a computer that became the cummin winter. </FONT></B>
		          xxxx			            xxxx

使用&quot;ter\.&quot;只会匹配第二个匹配项.

==============================================================================

*<A NAME="03.10"></A><B>03.10</B>*	使用标记

当你使用&quot;<A HREF="motion.html#G">G</A>&quot;命令去跳转到一个地方时,Vim会在跳转前记住这个地方.这个地方叫做<A HREF="motion.html#mark">标记</A>.使用这个命令回到原来的地方:

<B>	``</B>

`是一个反引号或者单音好也可.如果你第二次使用，他会再次跳转到原来的位置.这是因为&quot;<A HREF="motion.html#`">`</A>&quot;命令自身就是一个跳转,并且在使用&quot;`&quot;跳转前已经标记了该位置.一般地,每次你<A HREF="diff.html#do">执行的</A>会将光标移动到本行之外的命令都叫跳转.这包狂查询命令&quot;<A HREF="pattern.html#/">/</A>&quot;和&quot;<A HREF="pattern.html#n">n</A>&quot;命令(无论多远).但不包括&quot;fx&quot;和&quot;tx&quot;和<A HREF="motion.html#word">单词</A>移动&quot;<A HREF="motion.html#w">w</A>&quot;和&quot;<A HREF="motion.html#e">e</A>&quot;.此外, &quot;<A HREF="motion.html#j">j</A>&quot;和&quot;<A HREF="motion.html#k">k</A>&quot;也不认为是一个跳转,甚至是使用<A HREF="intro.html#count">数字</A>去修饰它们也不行.

&quot;<A HREF="motion.html#``">``</A>&quot;命令可以前后跳转.<A HREF="motion.html#CTRL-O">CTRL-O</A>命令会跳转到较老的位置(提示: <A HREF="insert.html#O">O</A>代表older).  <A HREF="motion.html#CTRL-I">CTRL-I</A>跳转到较新的位置(提示: 在普通的键盘布局中，I紧挨着<A HREF="insert.html#O">O</A>).考虑如下命令:

<B>	33G</B>
<B>	/^The</B>
<B>	CTRL-O</B>

你第一次跳转到33行，然后查询以&quot;The&quot;单词开始的行.然后使用<A HREF="motion.html#CTRL-O">CTRL-O</A>回到33行.再次执行<A HREF="motion.html#CTRL-O">CTRL-O</A>回到开始的地方.如果你现在使用<A HREF="motion.html#CTRL-I">CTRL-I</A>你又会回到33行.再次使再次使用用<A HREF="motion.html#CTRL-I">CTRL-I</A>回到The的地方.


	     &#124;	example text   ^	     |
	33G  &#124;	example text   &#124;  <A HREF="motion.html#CTRL-O">CTRL-O</A>     &#124; <A HREF="motion.html#CTRL-I">CTRL-I</A>
	     &#124;	example text   &#124;	     |
	     <A HREF="visual.html#V">V</A>	line 33 text   ^	     <A HREF="visual.html#V">V</A>
	     &#124;	example text   &#124;	     |
       /^The &#124;	example text   &#124;  <A HREF="motion.html#CTRL-O">CTRL-O</A>     &#124; <A HREF="motion.html#CTRL-I">CTRL-I</A>
	     <A HREF="visual.html#V">V</A>	There you are  &#124;	     <A HREF="visual.html#V">V</A>
		example text

	Note:
	<A HREF="motion.html#CTRL-I">CTRL-I</A>和<A HREF="motion.html#&lt;Tab&gt;">&lt;Tab&gt;</A>功能一样.

&quot;<A HREF="motion.html#:jumps">:jumps</A>&quot;命令会给你跳转过的<A HREF="eval.html#list">列表</A>.最后一个使用过的标记会用&quot;<A HREF="change.html#&gt;">&gt;</A>&quot;标记出来.



名称标记							*<A NAME="bookmark"></A><B>bookmark</B>*

Vim允许你在文本中添加自己的标记.使用命令&quot;ma&quot;让光标之下的位置<A HREF="motion.html#as">当作</A> <A HREF="motion.html#mark">标记</A> a.你能放置26个标记(a到<A HREF="vimindex.html#z">z</A>).这些标记是不可见的，只是一个由 Vim 记住的位置.
跳转到<A HREF="motion.html#mark">标记</A>,使用命令`{mark}，这里的{mark}是指<A HREF="motion.html#mark">标记</A> <A HREF="print.html#letter">字母</A>.因此移动<A HREF="motion.html#mark">标记</A>的命令是:

<B>	`a</B>

命令&quot;'mark&quot; (单引号加<A HREF="motion.html#mark">标记字符</A>)会移动到标记所在行的行首.与&quot;`mark&quot;命令不同的是,它会同时移动到标记的列上.

标记在需要处理一个文件的两个相关地方的时候非常有用。假设你在处理文件末的时候需 要查看文件首的一些内容。
    先移动到文件首，设置一个标记 s (start，开始): 
<B>	ms</B>

然后在你需要处理的地方放置标记<A HREF="motion.html#e">e</A>(end):

<B>	me</B>

现在你可以随意移动，当你需要看开头的地方，可以使用这个命令移到那里:

<B>	's</B>

然后你可以使用<A HREF="motion.html#''">''</A>跳转回来,或者使用'e跳转到你需要处理的的地方.
	 这里使用 s 和 e 作标记名没有特别的含义，只是为了好记而已。

你可以使用这个命令获得标记列表<A HREF="eval.html#list">列表</A>:

<B>	:marks</B>

你会注意到有一些特殊的标记，包括:

	''	跳转前光标的位置	
	&quot;	最后编辑的光标位置	
	[	最后改变的开始位置	
	]	最后改变的结束位置	

==============================================================================

下一章: |<A HREF="usr_04.html">usr_04.txt</A>|  做小改动
<A HREF="#top">top</A> - <A HREF="index.html">主帮助文件</A>
</PRE>
	</div>
</body>

</html>