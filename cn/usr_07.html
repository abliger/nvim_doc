<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="vim out of the box">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>Nvim 文档: usr_07</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
  <link href="../css/normalize.min.css" rel="stylesheet">
  <link href="../css/bootstrap.css" rel="stylesheet">
  <link href="../css/main.css" rel="stylesheet">
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
  <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214"
            aria-label="Neovim">
            <title>Neovim</title>
            <defs>
              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
                <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
                <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
              </linearGradient>
              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
                <stop stop-color="#7DB643" offset="0%" />
                <stop stop-color="#367533" offset="100%" />
              </linearGradient>
              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
                <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
                <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
              </linearGradient>
            </defs>
            <g fill="none" fill-rule="evenodd">
              <path d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z" fill="url(#a)"
                transform="translate(1 1)" />
              <path d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z" fill="url(#b)"
                transform="matrix(-1 0 0 1 305 1)" />
              <path d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z" fill="url(#c)"
                transform="translate(1 1)" />
              <path d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z" fill-opacity=".13"
                fill="#000" />
              <g fill="#444">
                <path
                  d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
                  fill="currentColor" />
                <path
                  d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
                  fill="currentColor" fill-opacity=".8" />
              </g>
            </g>
          </svg>
        </a>
      </div>
    </nav>
  </header>

  <div class="container">
    <h1>Nvim 文档: usr_07</h1>
    <A NAME="top"></A>
    <A HREF="index.html">主帮助文件</A>

    <HR>
    <PRE>

*<A NAME="usr_07.txt"></A><B>usr_07.txt</B>*	Nvim

		     VIM用户手册 - by Bram Moolenaar

			  编辑更多文件


无论你有多少个文件，你都可以同时编辑它们而不需要退出 Vim。本章介绍如何定义一个文件列表，并基于这个列表工作，或者从一个文件跳转到另一个文件，又或者从一个文件中拷贝文字，并写入到另一个文件中.

|<A HREF="#07.1">07.1</A>|	编辑其他文件
|<A HREF="#07.2">07.2</A>|	文件列表
|<A HREF="#07.3">07.3</A>|	文件跳转
|<A HREF="#07.4">07.4</A>|	备份文件
|<A HREF="#07.5">07.5</A>|	在文件中相互拷贝
|<A HREF="#07.6">07.6</A>|	查看文件
|<A HREF="#07.7">07.7</A>|	改变文件名

下一章: |<A HREF="usr_08.html">usr_08.txt</A>|  分割<A HREF="windows.html#windows">窗口</A>
上一章: |<A HREF="usr_06.html">usr_06.txt</A>|  使用<A HREF="syntax.html#syntax">语法</A>高亮
目录:   |<A HREF="usr_toc.html">usr_toc.txt</A>|

==============================================================================

*<A NAME="07.1"></A><B>07.1</B>*	编辑其他文件

到目前位置，你必须为你想要编辑的每一个文件启动Vim.单有一个更简单的方式去直接编辑其他文件，使用这个命令:

<B>	:edit foo.txt</B>

你能使用任意文件名代替&quot;foo.txt&quot;.Vim会关闭当前文件并打开它.如果当前文件有未保存的内容，Vim发出错误信息且不打开新文件:

<B><FONT color="#3A6F2B">	E37: No write since last change (use ! to override) </FONT></B>

	注意:
	Vim会在每一个错误信息前放置错误ID.如果你不懂什么造成了这个消息，可以使用帮助系统搜索这个ID，如:

<B>		:help E37</B>

此时你有多个解决方案。首先你可以通过如下命令保存当前文件:

<B>	:write</B>

你可以强制让Vim<A HREF="editing.html#discard">丢弃</A>改变内容并打开新文件，使用强制字符:

<B>	:edit! foo.txt</B>

如果你要编辑其他文件,但目前不在当前文件保存，你可以使<A HREF="motion.html#it">它</A>隐藏:

<B>	:hide edit foo.txt</B>

改变的文本依然在那，但是你不能看到<A HREF="motion.html#it">它</A>. 深入解释见|22.4|: 缓存区<A HREF="eval.html#list">列表</A>.

==============================================================================

*<A NAME="07.2"></A><B>07.2</B>*	文件列表

你可以使用Vim编辑文件序列.例如:

<B>	vim one.c two.c three.c</B>

这个命令启动Vim并告诉<A HREF="motion.html#it">它</A>会编辑三个文件.Vim只能展示第一个文件.在你编辑完此文件后你可以使用这个命令到下一个文件:

<B>	:next</B>

如果你未保存当前文件，你会得到一个错误并且&quot;<A HREF="editing.html#:next">:next</A>&quot;无效.这和上面提到的&quot;<A HREF="editing.html#:edit">:edit</A>&quot;是一样的.<A HREF="editing.html#abandon">放弃</A>改变:

<B>	:next!</B>

但是最可能的是你想要保存改变并跳转到下一个文件，下面的命令特别适合:

<B>	:wnext</B>

这和使用下面两个命令是一样的:

<B>	:write</B>
<B>	:next</B>


我在哪？

去查看你正编辑的文件在参数<A HREF="eval.html#list">列表</A>的位置,可以看一下<A HREF="windows.html#window">窗口</A>标题.它应该会展示一些像&quot;(2 of 3)&quot;的内容.意思是在你正编辑的三个文件的第二个.
   如果你想要查看文件<A HREF="eval.html#list">列表</A>,使用命令:

<B>	:args</B>

这是&quot;arguments&quot;的缩写.输出如下:

<B><FONT color="#3A6F2B">	one.c [two.c] three.c </FONT></B>

这里列出所有你启动 Vim 时指定的文件。你正在编辑的那一个，例如，"two.c"，会用中括号括起.

移动到另一个参数

返回第一的文件:

<B>	:previous</B>

这就像&quot;<A HREF="editing.html#:next">:next</A>&quot;命令, 只不过<A HREF="motion.html#it">它</A>反方向移动. 同样保存移动使用:

<B>	:wprevious</B>

移动到<A HREF="eval.html#list">列表</A>的最后一个:

<B>	:last</B>

再次移动到第一个文件:

<B>	:first</B>

不过，没有&quot;:wlast&quot;或者&quot;:wfirst&quot;命令!

你能在&quot;<A HREF="editing.html#:next">:next</A>&quot;和&quot;<A HREF="editing.html#:previous">:previous</A>&quot;添加数字前缀.向前跳转两个文件:

<B>	:2next</B>

自动保存

当移动文件和编辑文件时，你需要记得使用&quot;<A HREF="editing.html#:write">:write</A>&quot;.否则你会得到错误信息.如果你确保你总是想要保存修改文件，你可以让Vim自动保存它们:

<B>	:set autowrite</B>

当你编辑不想要保存修改的文件时，你可以使用关闭<A HREF="motion.html#it">它</A>:

<B>	:set noautowrite</B>


编辑文件列表

你不需要退出Vim就可以重定义文件<A HREF="eval.html#list">列表</A>并再次启动<A HREF="motion.html#it">它</A>. 使用此命令编辑其他的三个文件:

<B>	:args five.c six.c seven.h</B>

或使用<A HREF="editing.html#wildcard">wildcard</A>, 就像在命令行中:

<B>	:args *.txt</B>

Vim会打开<A HREF="eval.html#list">列表</A>中第一个文件.同样地，如果当前文件没有保存，你需要保存它，或者使用 ":args!" (加了一个 !) 放弃修改.


你编辑过最后一个文件吗?

							*<A NAME="arglist-quit"></A><B>arglist-quit</B>*
当你使用文件列表, Vim会认为你想要编辑它们所有的文件.防止你提前<A HREF="starting.html#exiting">退出</A>, 在你还没有编辑到列表最后一个文件时会提示错误:

<B><FONT color="#3A6F2B">	E173: 46 more files to edit </FONT></B>

如果你真地想要退出，可以在退出一次.但如果在两个命令间还执行了其它命令就无效了.

==============================================================================

*<A NAME="07.3"></A><B>07.3</B>*	文件跳转

使用<A HREF="editing.html#CTRL-^">CTRL-^</A>快素在文件间跳转(在数字键6上).例如:

<B>	:args one.c two.c three.c</B>

现在你在one.c 文件中

<B>	:next</B>

现在你在two.c中.使用<A HREF="editing.html#CTRL-^">CTRL-^</A>返回到one.c.同样地再使用<A HREF="editing.html#CTRL-^">CTRL-^</A>也能返回到two.c.再使用<A HREF="editing.html#CTRL-^">CTRL-^</A>再次返回one.c.如果你现在执行:

<B>	:next</B>

会到three.c.注意<A HREF="editing.html#CTRL-^">CTRL-^</A>命令不会改变你在文件列表的位置.同样的命令如&quot;<A HREF="editing.html#:next">:next</A>&quot;和&quot;<A HREF="editing.html#:previous">:previous</A>&quot;.

如果先前你编辑过叫做&quot;alternate&quot;的文件.当你启动Vim，<A HREF="editing.html#CTRL-^">CTRL-^</A>无效, 此时没有轮换文件.


预定标记

跳转到其他文件后，有两个非常有用的预定标记:

<B>	`"</B>

这个标记会带你到上次你离开前的位置，另一个<A HREF="motion.html#mark">标记</A>是你最后一次改变的位置:

<B>	`.</B>

加入你在编辑&quot;one.txt&quot;. 有时你中途使用&quot;<A HREF="change.html#x">x</A>&quot;在文件中删除了一个字符.然后你使用&quot;<A HREF="motion.html#G">G</A>&quot;到了文件尾，使用&quot;<A HREF="editing.html#:w">:w</A>&quot;保存文件.编辑了几个其他文件后再使用&quot;<A HREF="editing.html#:edit">:edit</A> one.txt&quot;回到&quot;one.txt&quot;.现在你使用`&quot; Vim跳转到文件尾.  Using <A HREF="motion.html#`.">`.</A>跳转到删除字符的位置.即使你在文件中移动过，但在你修改或者离开文件前，这两个标记都不会改变.


文件标记

在章节|<A HREF="usr_03.html#03.10">03.10</A>|介绍了如何在文件中使用&quot;mx&quot;放置一个<A HREF="motion.html#mark">标记</A>并使用&quot;`x&quot;跳转到该位置.它只能在一个文件中使用.如果你在编辑其他文件并放置了标记，那么标记只能在那个文件中使用.因此每一个文件都有一个自己的标记集，并只能在该文件中使用.
   到此为止我们都使用<A HREF="change.html#lowercase">小写</A> <A HREF="print.html#letter">字母</A>标记.标记也能使用<A HREF="change.html#uppercase">大写</A> <A HREF="print.html#letter">字母</A>.这种标记是全局的，它们可以在任何文件中使用.例如假设我们正编辑&quot;foo.txt&quot;.在文件中间(&quot;50&#37;&quot;)放置<A HREF="motion.html#F">F</A> <A HREF="motion.html#mark">标记</A>(F for foo):

<B>	50%mF</B>

之后编辑&quot;bar.txt&quot;，在最后放置<A HREF="motion.html#B">B</A> <A HREF="motion.html#mark">标记</A> (B for <A HREF="motion.html#bar">bar</A>):

<B>	GmB</B>

现在使用&quot;'F&quot;命令去跳转到foo.txt的中间. 或者编辑其他文件 键入&quot;'B&quot;跳转到bar.txt文件尾.

文件标记会被一直记住直到被重新定义.这样，你可以在一个文件中留下一个标记，然后任意做一段时间的编辑，最后用这个标记跳回去.
   让文件标记符和对应的位置建立一些关系常常是很有用的。例如，用 H 表示头文件  (Head File)，M 表示 Makefile 而 C 表示 C 的代码文件.

要知道一个标记在什么地方，在 ":marks" 命令中加上标记名作为参数即可:

<B>	:marks M</B>

你也能给出一些参数:

<B>	:marks MCP</B>

别忘了你还可以 CTRL-O 和 CTRL-I 在整个跳转序列中前后跳转.

==============================================================================

*<A NAME="07.4"></A><B>07.4</B>*	备份文件

通常Vim不会产生<A HREF="editing.html#backup">备份</A>文件.如果你希望的话，执行如下命令就可以了:

<B>	:set backup</B>

<A HREF="editing.html#backup">备份</A>文件的名字是原文件名结尾加上~.如，如果你的文件名是data.txt,<A HREF="editing.html#backup">备份</A>文件的名字是data.txt~.
   如果你不想让<A HREF="editing.html#backup">备份</A>文件结尾加~,你也能修改后缀:

<B>	:set backupext=.bak</B>

   它会使用data.txt.bak代替data.txt~.
   其他的相关选项是<A HREF="options.html#'backupdir'">'backupdir'</A>.它指定备份文件的目录。默认情况是与原始文件的路径一致，这在很多情况下都是合适的.

	注意:
	当<A HREF="options.html#'backup'">'backup'</A>选项没有设置但是<A HREF="options.html#'writebackup'">'writebackup'</A>设置了,Vim也会创建<A HREF="editing.html#backup">备份</A>文件。  但是,在文件编辑完后，这个备份文件会被自动删除。这个功能用于避免发生异常情况导致没有存盘 (磁盘满是最常见的情况；被雷击也是一种情况，不过很少发生).


保留原始文件

如果你在编辑源程序，你可能想在修改之前保留一个备份。但备份文件会在你存盘的时候被覆盖。这样它只能保留前一个版本，而不是最早的文件。
   让Vim保存原始文件，需要设置<A HREF="options.html#'patchmode'">'patchmode'</A>选项.这个选项定义需要改动文件的第一个备份文件的扩展名.你可以这样做:

<B>	:set patchmode=.orig</B>

这样，当你第一次编辑 data.txt，作了修改并执行存盘，Vim 会保留一个名为"data.txt.orig" 的原始文件.
  如果你接着修改这个文件，Vim 会发现这个原始文件已经存在，并不再覆盖它。进一步的备份就存在 "data.txt~" (或者你设置的 'backupext' 指定的文件) 中。
  如果你让 'patchmode' 设为空 (这是默认的情况)，则原始文件不会被保留。

==============================================================================

*<A NAME="07.5"></A><B>07.5</B>*	在文件中相互拷贝

本节解释如何在文件间拷贝文本。我们从一个简单的例子开始。编辑一个你要拷贝文本的文件，把光标移到要拷贝的文本的开始处，用 "v" 命令启动可视模式，然后把光标移到要拷贝文本的结尾处，输入 "y" 拷贝文本。
例如，要拷贝上面这段文字，你可以执行:

<B>	:edit thisfile</B>
<B>	/This</B>
<B>	vjjjj$y</B>

现在编辑你要粘贴文本的文件。把光标移到你要插入文本的地方。用 "p" 命令把文本粘贴到那里:

<B>	:edit otherfile</B>
<B>	/There</B>
<B>	p</B>

当然，你可以用任何命令拷贝文本。例如，用 "V" 命令选中整行的内容。或者用 CTRL-V选择一个矩形列块。或者使用 "Y" 拷贝一个单行，"yaw" 拷贝一个单词等。
   "p" 命令把文本粘贴到光标之后，"P" 命令则粘贴到光标之前。注意， Vim 会记住你拷贝的是一整行还是一个列块，并用相同的方式把文本贴出来。


使用寄存器

当你需要拷贝一个文件的几个地方到另一个文件，用上面的方法，你就得反复在两个文件间跳来跳去。要避免这种情况，你可以把不同的文本拷贝到不同的寄存器中.
  寄存器是 Vim 用来保存文本的地方。这里我们使用名称为 a 到 z 的寄存器 (后面我们会发现还有其它寄存器)。让我们拷贝一个句子到 f 寄存器 (f 表示 First):

<B>	"fyas</B>

&quot;yas&quot;命令像以前说过的那样拷贝一个句子，而 "f 告诉 Vim 把文本拷贝到寄存器f。这必须放在拷贝命令的前面.
  现在，拷贝三个整行到寄存器 l (l 表示 line):

<B>	"l3yy</B>

T计数前缀也可以用在 "l 的前面。要拷贝一个文本列块到寄存器 b (代表 block) 中:

<B>	CTRL-Vjjww"by</B>

注意 "b 正好在 "y" 命令的前面，这是必须的。把它放在 "w" 命令的前面就不行。
  现在你有了在寄存器 f，l 和 b 有三段文本。编辑另一个文件，并移到要插入文本的地方:

<B>	"fp</B>

同样地，寄存器标识符 "f 必须在 "p" 命令的前面。
  你可以用任何顺序粘贴寄存器的内容。并且，这些内容一直存在于寄存器中，直到你拷贝其它文件到这个寄存器中。这样，你可以粘贴任意多次。

删除文本的时候，你也可以指定寄存器。使用这个方法可以移动几处文本。例如，要删除一个单词并写到 w 寄存器中:

<B>	"wdaw</B>

同样地，寄存器标识符必须在删除命令 "d" 的前面.


添加到文件

如果要把收集的行都放到一个文件里，你可以使用:

<B>	:write &gt;&gt; logfile</B>

此命令会把当前文件内容写入到&quot;logfile&quot;末尾. 这样实现了文件添加功能。这样使你免去了拷贝，编辑和拷贝的过程，省了两步。但你只能加到目标文件的末尾
要只拷贝一部分内容，可以先用可视模式选中这些内容后在执行 ":write"。在第 10 章，你将学会选中一个行范围的办法

==============================================================================

*<A NAME="07.6"></A><B>07.6</B>*	查看文件

有时你只想查看文件的内容而不是修改<A HREF="motion.html#it">它</A>.不用考虑使用&quot;<A HREF="editing.html#:w">:w</A>&quot;是危险的并且会覆盖源文件.避免它使用只读模式编辑文件.使用这个命令开启只读模式:

<B>	vim -R file</B>

在 Unix，如下命令可以完成相同的功能:

<B>	view file</B>

现在，你就在用只读模式阅读这个文件 "file" 了。但你执行 ":w" 命令的时候，你会得到一个禁止写入的错误信息。
当你试图修改这个文件时，Vim 会给你一个告警提示:

<B><FONT color="#3A6F2B">	W10: Warning: Changing a readonly file </FONT></B>

即使这样，你的修改还是会被接纳的。有可能你只是想排列这些文本，以便阅读.
  如果你确实要改动这个文件，在 write 命令前面加上 ! 可以强制写入。
  
如果你的确想禁止文件修改，用这个命令:

<B>	vim -M file</B>

现在任何对文件的修改操作都会失败。例如，帮助文件就是这样的。如果你要在上面作修改，你会得到一个错误提示:

<B><FONT color="#3A6F2B">	E21: Cannot make changes, 'modifiable' is off </FONT></B>

你能使用<A HREF="starting.html#-M">-M</A>参数使Vim在只读模式工作. 这个方式仍然取决于用户的意愿，因为你可以用下面的命令去掉这层保护:

<B>	:set modifiable</B>
<B>	:set write</B>

==============================================================================

*<A NAME="07.7"></A><B>07.7</B>*	改变文件名

使用大部分内容都是需要的文件去编辑新文件是更聪明的方式.例如,你开始<A HREF="editing.html#writing">写</A>一个移动文件的新项目.你知道你已经有了一个复制文件的程序因此你能因此开始:

<B>	:edit copy.c</B>

你不需要删除原来的内容，只要保存为一个新名字.&quot;<A HREF="editing.html#:saveas">:saveas</A>&quot;命令可以使用在这里:

<B>	:saveas move.c</B>

VVim 会用给定的名称保存文件，并开始编辑该文件.这样，下次你用 ":write"，写入的时候，被写入的就是 "move.c"。而 "copy.c" 不会被改变.
  当你想改变当前文件的文件名，但不想立即保存它，用这个命令:

<B>	:file move.c</B>

Vim 会把这个文件标记为 "未编辑"。这表示 Vim 知道你现在编辑的文件不是原来那个文件了。当你写这个文件的时候，你会得到如下错误信息:

<B><FONT color="#3A6F2B">	E13: File exists (use ! to override) </FONT></B>

这可以避免你不小心覆盖另一个文件.

==============================================================================

下一章: |<A HREF="usr_08.html">usr_08.txt</A>|  分割<A HREF="windows.html#windows">窗口</A>
<A HREF="#top">top</A> - <A HREF="index.html">主帮助文件</A>
</PRE>
  </div>
</body>

</html>