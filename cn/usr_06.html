<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="vim out of the box">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>Nvim 文档: usr_06</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
  <link href="../css/normalize.min.css" rel="stylesheet">
  <link href="../css/bootstrap.css" rel="stylesheet">
  <link href="../css/main.css" rel="stylesheet">
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
  <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a href="/" class="navbar-brand" aria-label="logo">
          <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214"
            aria-label="Neovim">
            <title>Neovim</title>
            <defs>
              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
                <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
                <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
              </linearGradient>
              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
                <stop stop-color="#7DB643" offset="0%" />
                <stop stop-color="#367533" offset="100%" />
              </linearGradient>
              <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
                <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
                <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
              </linearGradient>
            </defs>
            <g fill="none" fill-rule="evenodd">
              <path d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z" fill="url(#a)"
                transform="translate(1 1)" />
              <path d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z" fill="url(#b)"
                transform="matrix(-1 0 0 1 305 1)" />
              <path d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z" fill="url(#c)"
                transform="translate(1 1)" />
              <path d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z" fill-opacity=".13"
                fill="#000" />
              <g fill="#444">
                <path
                  d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
                  fill="currentColor" />
                <path
                  d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
                  fill="currentColor" fill-opacity=".8" />
              </g>
            </g>
          </svg>
        </a>
      </div>
    </nav>
  </header>

  <div class="container">
    <h1>Nvim 文档: usr_06</h1>
    <A NAME="top"></A>
    <A HREF="index.html">主帮助文件</A>

    <HR>
    <PRE>

*<A NAME="usr_06.txt"></A><B>usr_06.txt</B>*	Nvim

		     VIM用户手册 - by Bram Moolenaar

			  使用<A HREF="syntax.html#syntax">语法</A>高亮


黑白的文字让人厌倦了，增加一些色彩能为你的文件带来生气。这不但看起来漂亮，还能够提高你的工作效率。本章介绍如何使用不同颜色显示不同文本并把它打印出来.

|<A HREF="#06.1">06.1</A>|	打开<A HREF="motion.html#it">它</A>
|<A HREF="#06.2">06.2</A>|	颜色错误或者没有颜色?
|<A HREF="#06.3">06.3</A>|	使用不同的颜色
|<A HREF="#06.4">06.4</A>|	是否使用颜色
|<A HREF="#06.5">06.5</A>|	带颜色打印
|<A HREF="#06.6">06.6</A>|	深入阅读

下一章: |<A HREF="usr_07.html">usr_07.txt</A>|  编辑更多文件
上一章: |<A HREF="usr_05.html">usr_05.txt</A>|  自定义配置
目录:   |<A HREF="usr_toc.html">usr_toc.txt</A>|

==============================================================================

*<A NAME="06.1"></A><B>06.1</B>*	打开<A HREF="motion.html#it">它</A>

<A HREF="autocmd.html#Syntax">语法</A>高亮默认开启.Nvim自动发现文件类型并加载正确的<A HREF="syntax.html#syntax">语法</A>高亮.

==============================================================================

*<A NAME="06.2"></A><B>06.2</B>*	颜色错误或者没有颜色?

你看不到颜色有很多原因:

- 你的<A HREF="nvim_terminal_emulator.html#terminal">终端</A>不支持颜色.
	Vim会使用<A HREF="syntax.html#bold">粗体</A>,<A HREF="syntax.html#bold">斜体</A>和下划线展示文字,但是看起来不怎么样. 你可以使用支持颜色的<A HREF="nvim_terminal_emulator.html#terminal">终端</A>.

- 你的<A HREF="nvim_terminal_emulator.html#terminal">终端</A>支持颜色,但Vim不知道.确保<A HREF="term.html#$TERM">$TERM</A>设置是正确的.例如,当使用支持颜色的xterm终端:

<B>		setenv TERM xterm-color</B>
 
	或者(取决于你的shell):

<B>		TERM=xterm-color; export TERM</B>

设置的<A HREF="nvim_terminal_emulator.html#terminal">终端</A>的名字必须和你使用的<A HREF="nvim_terminal_emulator.html#terminal">终端</A>相同.

- 文件类型不能识别.
  Vim 不可能识别所有文件，而且有时很难说一个文件是什么类型的。试一下这个命令:

<B>		:set filetype</B>
 
	如果结果是&quot;filetype=&quot;那么问题就是出在文件类型上了。你可以手工指定文件类型:

<B>		:set filetype=fortran</B>

  要知道哪些类型是有效的，查看一下 $VIMRUNTIME/syntax. 对于<A HREF="gui.html#GUI">GUI</A> ，你可以使用<A HREF="autocmd.html#Syntax">Syntax</A> 菜单.设置<A HREF="filetype.html#filetype">文件类型</A>也能通过|<A HREF="options.html#modeline">modeline</A>|设置,以便每次编辑<A HREF="motion.html#it">它</A>时都会进行好靓.例如, Makefile文件高亮 (把<A HREF="motion.html#it">它</A>放到文件首位):

<B>		# vim: syntax=make</B>

  你可能知道怎么检测自己的文件类型，通常的方法是检查文件的扩展名 (就是点后面的内容).  见 |<A HREF="filetype.html#new-filetype">new-filetype</A>| 去告诉Vim怎样确定文件类型.

- 你的文件类型没有语法高亮定义.
  你可以找一个相似的文件类型并人工设置为那种类型。如果觉得不好，你可以自  己写一个, 见 |<A HREF="syntax.html#mysyntaxfile">mysyntaxfile</A>|.


颜色错误:

- 带颜色的文本以至于难以阅读.
  Vim 自动猜测你使用的背景色.如果是黑的 (或者其它深色的色彩)，它会用浅色作为前景色。如果是白的 (或者其它浅色)，它会使用深色作为前景色。如果Vim 猜错了，文字就很难认了。要解决这个问题，设置一下background' 选项。对于深色:

<B>		:set background=dark</B>

  对于亮色背景:

<B>		:set background=light</B>

 	确保在&quot;<A HREF="syntax.html#:syntax">:syntax</A> enable&quot;命令前调用前两个命令,否则不起作用.你可以<A HREF="diff.html#do">使用</A>&quot;<A HREF="syntax.html#:syntax">:syntax</A> 重置&quot; 在设置<A HREF="options.html#'background'">'background'</A>后使Vim重新染色.

- 从下向上<A HREF="scroll.html#scrolling">滚动</A>使颜色错误.
	Vim解析文件不是直接解析整个文件. 它只分析你要显示的部分。这样能省不少时间，但也会因此带来错误。一个简单的修正方法是敲<A HREF="various.html#CTRL-L">CTRL-L</A>. 或者往回滚动一下再回来.真正修复见 |<A HREF="syntax.html#:syn-sync">:syn-sync</A>|.一些<A HREF="syntax.html#syntax">语法</A>文件会让<A HREF="motion.html#it">它</A>看前面的内容,参见相应的<A HREF="syntax.html#syntax">语法</A>定义文件.如,|<A HREF="tex.html">tex.vim</A>|关于TeX <A HREF="syntax.html#syntax">语法</A>.

==============================================================================

*<A NAME="06.3"></A><B>06.3</B>*	使用不同的颜色				*<A NAME=":syn-default-override"></A><B>:syn-default-override</B>*

如果你不喜欢默认的颜色方案，你可以选另一个色彩方案。在 GUI 版本中可以使用Edit/Color 菜单。你也可以使用这个命令:

<B>	:colorscheme evening</B>

&quot;evening&quot;是色彩方案的名称。还有几种备选方案可以试一下. 从$VIMRUNTIME/colors找到他们.

当你找到你喜欢的颜色主题, 添加&quot;<A HREF="syntax.html#:colorscheme">:colorscheme</A>&quot;命令到你的|<A HREF="init.html">init.vim</A>|文件.

你可以自己编写色彩方案，方法如下:

1. <A HREF="visual.html#Select">选择</A>你满意的颜色主题.把这个文件拷贝到你自己的 Vim 目录中。在Unix 上，可以这样:

<B>	!mkdir -p ~/.config/nvim/colors</B>
<B>	!cp $VIMRUNTIME/colors/morning.vim ~/.config/nvim/colors/mine.vim</B>
 
   这样做是因为<A HREF="motion.html#it">它</A>知道<A HREF="starting.html#$VIMRUNTIME">$VIMRUNTIME</A>的值.

2. 编辑这个色彩方案，常用的有下面的这些条目:

	term		黑白<A HREF="nvim_terminal_emulator.html#terminal">终端</A>的属性
	cterm		支持颜色<A HREF="nvim_terminal_emulator.html#terminal">终端</A>的属性
	ctermfg		<A HREF="nvim_terminal_emulator.html#terminal">终端</A>前景色
	ctermbg		<A HREF="nvim_terminal_emulator.html#terminal">终端</A>背景色
	<A HREF="gui.html#gui">gui</A>		<A HREF="gui.html#GUI">GUI</A>属性
	guifg		<A HREF="gui.html#GUI">GUI</A>前景色
	guibg		<A HREF="gui.html#GUI">GUI</A>背景色

 例如, 使用绿色注释:

<B>	:highlight Comment ctermfg=green guifg=green</B>
 
   对于&quot;cterm&quot;和&quot;<A HREF="gui.html#gui">gui</A>&quot;可以使用&quot;<A HREF="syntax.html#bold">粗体</A>&quot; and &quot;<A HREF="syntax.html#underline">下划线</A>&quot;属性修饰. 使用&quot;bold,underline&quot;都设置.  查看细节使用|<A HREF="syntax.html#:highlight">:highlight</A>|命令.

3. 告诉 Vim 总使用你这个色彩方案。把如下语句加入你的 vimrc 中:

<B>	colorscheme mine</B>

如果你要测试一下常用的色彩组合，用如下命令:

<B>	:runtime syntax/colortest.vim</B>

这样你会看到不同的颜色组合。你可以很容易的看到哪一种可读性好而且漂亮.

==============================================================================

*<A NAME="06.4"></A><B>06.4</B>*	是否使用颜色

使用色彩显示文本会影响效率。如果你觉得显示得很慢，可以临时关掉这个功能:

<B>	:syntax clear</B>

当你开始编辑另一个文件 (或者同一个文件)，色彩会重新生效.

如果你要完全关闭这个功能:

<B>	:syntax off</B>

T这个命令会停止对所有缓冲区的所有语法高亮.详见 |<A HREF="syntax.html#:syntax-off">:syntax-off</A>|.


							*<A NAME=":syn-manual"></A><B>:syn-manual</B>*
如果你只想在几个文件中打开<A HREF="syntax.html#syntax">语法</A>高亮，使用:

<B>	:syntax manual</B>

这个命令激活语法高亮功能，但不会在你开始编辑一个缓冲区时自动生效，要在当前缓冲区中使用高亮，需要设置<A HREF="options.html#'syntax'">'syntax'</A>选项:

<B>	:set syntax=ON</B>
 
==============================================================================

*<A NAME="06.5"></A><B>06.5</B>*	带颜色打印				*<A NAME="syntax-printing"></A><B>syntax-printing</B>*

在 MS-Windows 版本上，你可以用如下命令打印当前文件:

<B>	:hardcopy</B>

你可以获得打印窗口，通过它选择打印机和进行打印设置.如果你有彩色打印机,输出会和在Vim中的相同.但当你使用黑暗背景，颜色会适应白纸以便更好查看.

有几个改变Vim打印行为的<A HREF="options.html#options">选项</A>:
	<A HREF="options.html#'printdevice'">'printdevice'</A>
	<A HREF="options.html#'printheader'">'printheader'</A>
	<A HREF="options.html#'printfont'">'printfont'</A>
	<A HREF="options.html#'printoptions'">'printoptions'</A>

只打印一定范围的行,使用<A HREF="visual.html#Visual">可视</A>模式选择这些行，如:

<B>	v100j:hardcopy</B>

&quot;<A HREF="visual.html#v">v</A>&quot;进入<A HREF="visual.html#Visual">可视</A>模式.&quot;100j&quot;向下选中100行.然后使用&quot;<A HREF="print.html#:hardcopy">:hardcopy</A>&quot; 打印这些行.

如果你有一台 PostScript 打印机，上面的方法也适合 Unix 系统。否则，你必须做一些额外的处理: 你需要先把文件转换成 HTML 类型，然后用浏览器打印.

如下命令把当前文件转换成 HTML 格式:

<B>	:TOhtml</B>

以防它不工作:

<B>	:source $VIMRUNTIME/syntax/2html.vim</B>

你发现它会嘎吱嘎吱执行一阵子，(如果文件很大，这可能要花点时间)。之后，Vim 会打开一个新的窗口并显示 HTML 代码。现在把这个文件存下来 (存在哪都不要紧，反正最后你要删掉它的):

<B>	:write main.c.html</B>

用你喜欢的浏览器打开这个文件，并通过它打印这个文件。如果一切顺利，这个输出应该与 Vim 中显示的一样.详见|<A HREF="2html.html">2html.vim</A>|.处理完后别忘了删掉那个 HTML 文件.

除了<A HREF="print.html#printing">打印</A>,你还可以把这个 HTML 文件，放到 WEB 服务器上，让其他人可以通过彩色文本阅读.

==============================================================================

*<A NAME="06.6"></A><B>06.6</B>*	深入阅读

|<A HREF="usr_44.html">usr_44.txt</A>|  自定义<A HREF="syntax.html#syntax">语法</A>高亮.
|<A HREF="syntax.html#syntax">语法</A>|      所有的细节.

==============================================================================

下一章: |<A HREF="usr_07.html">usr_07.txt</A>|  编辑更多文件
<A HREF="#top">top</A> - <A HREF="index.html">主帮助文件</A>
</PRE>
  </div>
</body>

</html>