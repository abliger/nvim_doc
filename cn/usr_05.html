<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="description" content="vim out of the box">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Nvim 文档: usr_05</title>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
    <link href="../css/normalize.min.css" rel="stylesheet">
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/main.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <header class="container">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <a href="/" class="navbar-brand" aria-label="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214"
                        aria-label="Neovim">
                        <title>Neovim</title>
                        <defs>
                            <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
                                <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
                                <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
                            </linearGradient>
                            <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
                                <stop stop-color="#7DB643" offset="0%" />
                                <stop stop-color="#367533" offset="100%" />
                            </linearGradient>
                            <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
                                <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
                                <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
                            </linearGradient>
                        </defs>
                        <g fill="none" fill-rule="evenodd">
                            <path d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z" fill="url(#a)"
                                transform="translate(1 1)" />
                            <path d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z" fill="url(#b)"
                                transform="matrix(-1 0 0 1 305 1)" />
                            <path d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z" fill="url(#c)"
                                transform="translate(1 1)" />
                            <path d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
                                fill-opacity=".13" fill="#000" />
                            <g fill="#444">
                                <path
                                    d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
                                    fill="currentColor" />
                                <path
                                    d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
                                    fill="currentColor" fill-opacity=".8" />
                            </g>
                        </g>
                    </svg>
                </a>
            </div>
        </nav>
    </header>

    <div class="container">
        <h1>Nvim 文档: usr_05</h1>
        <A NAME="top"></A>
        <A HREF="index\.html">主帮助文件</A>

        <HR>
        <PRE>

*<A NAME="usr_05.txt"></A><B>usr_05.txt</B>*	Nvim

         VIM用户手册 - by Bram Moolenaar

            自定义配置


Vim可以按你的想法进行调整<A HREF="motion.html#it">它</A>.本章会向你展示如何自定义设置.添加插件去拓展Vim的功能.或者定义自己的宏指令.

|<A HREF="#05.1">05.1</A>|	<A HREF="starting\.html#vimrc">vimrc</A>文件
|<A HREF="#05.2">05.2</A>|	<A HREF="starting\.html#vimrc">vimrc</A>文件示例解释
|<A HREF="#05.3">05.3</A>|	键盘映射
|<A HREF="#05.4">05.4</A>|	添加软件包
|<A HREF="#05.5">05.5</A>|	添加<A HREF="#plugin">插件</A>
|<A HREF="#05.6">05.6</A>|	添加帮助文件
|<A HREF="#05.7">05.7</A>|	选项<A HREF="windows\.html#window">窗口</A>
|<A HREF="#05.8">05.8</A>|	常用<A HREF="options\\.html#options">选项</A>

下一章: |<A HREF="usr_06.html">usr_06.txt</A>|  使用<A HREF="syntax\.html#syntax">语法</A>高亮
上一章: |<A HREF="usr_04.html">usr_04.txt</A>|  做小改动
目录:   |<A HREF="usr_toc.html">usr_toc.txt</A>|

==============================================================================

*<A NAME="05.1"></A><B>05.1</B>*	<A HREF="starting\.html#vimrc">vimrc</A>文件				*<A NAME="vimrc-intro"></A><B>vimrc-intro</B>*

你可能对键入常用的命令感到疲惫.使用你最喜欢的设置和键映射开启Vimd,你需要在<A HREF="starting.html#init.vim">init.vim</A>文件写入那些设置.Vim会在启动时执行这个文件中的命令.

如果你已经有了<A HREF="starting.html#init.vim">init.vim</A>文件(如,你的系统管理员为你配置好了),你可以使用这种方式编辑<A HREF="motion.html#it">它</A>:

<B>	:edit $MYVIMRC</B>

如果你还没有<A HREF="starting\.html#vimrc">vimrc</A>文件, 见 |<A HREF="init.html">init.vim</A>|去找到在哪里创建<A HREF="starting\.html#vimrc">vimrc</A>文件.

这个文件总是被使用，也推荐使用:

<B><FONT color="#3A6F2B">	~/.config/nvim/init.vim         (Unix and OSX) </FONT></B>
<B><FONT color="#3A6F2B">	~/AppData/Local/nvim/init.vim   (Windows) </FONT></B>

<A HREF="starting\.html#vimrc">vimrc</A>文件可以包含你在冒号命令后面键入的所有命令.最简单的是设置<A HREF="options\.html#options">选项</A>.例如,如果你想要Vim在打开时就开启<A HREF="options.html#'ignorecase'">'ignorecase'</A>,添加这一行到你的<A HREF="starting\.html#vimrc">vimrc</A>文件:

<B>	set ignorecase</B>

退出Vim并再次启动<A HREF="motion.html#it">它</A>这个选项会起作用.之后你会学你怎样不<A HREF="starting.html#exiting">退出</A> Vim也能生效.

本章只解释最基本的内容.  如何写Vim<A HREF="usr_41.html#script">脚本</A>文件见: |<A HREF="usr_41.html">usr_41.txt</A>|.

==============================================================================

*<A NAME="05.2"></A><B>05.2</B>*	<A HREF="starting\.html#vimrc">vimrc</A>文件示例解释		*<A NAME="vimrc_example.vim"></A><B>vimrc_example.vim</B>*

本章的第一部分解释了如何创建<A HREF="starting\.html#vimrc">vimrc</A>文件.

<B>	:exe 'edit' stdpath('config').'/init.vim'</B>

这部分我们讲解在初始化文件有价值的命令.这会给你自定义设置时一些提示.尽管不是所有的命令都会提到.但是使用&quot;<A HREF="helphelp.html#:help">:help</A>&quot;命令可以了解其他命令.
      

<B>	set backspace=indent,eol,start</B>   

命令指定了当Vim处于<A HREF="intro.html#Insert">插入</A>模式,<A HREF="motion.html#&lt;BS&gt;">&lt;BS&gt;</A>退格键会删除光标前面的字符.这三个被逗号分隔的内容告诉Vim退格键可以删除行首缩进，回车符和<A HREF="intro.html#Insert">插入</A>模式前开始前的字符.

<B>	set autoindent</B>

这个选项让Vim在创建新行时使用前一行的缩进.从而新行直接拥有和之前一样数量的空格.例如当在<A HREF="intro.html#Insert">插入</A>模式中使用<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>时,和直接使用&quot;<A HREF="insert.html#o">o</A>&quot;命令插入新行.

<B>	set backup</B>

这会告诉Vim当编辑文件时会生成一个文件<A HREF="editing.html#backup">备份</A>.这个<A HREF="editing.html#backup">备份</A>文件会在原来的名字上添加&quot;<A HREF="change.html#~">~</A>&quot;.见|<A HREF="usr_07.html#07.4">07.4</A>|

<B>	set history=50</B>

保存50条命令和50条查询匹配表达式.如果你想保存更多或更少可以使用其他值.

<B>	set ruler</B>

在右下角<A HREF="windows.html#window">窗口</A>展示当前光标位置.

<B>	set showcmd</B>

在右下角<A HREF="windows.html#window">窗口</A>，标尺的左边展示不完全的命令.例如,当你键入&quot;2f&quot;,Vim会等待你键入想要找的字符，此时&quot;2f&quot;就会出现.当你使用&quot;<A HREF="motion.html#w">w</A>&quot;,&quot;2fw&quot;命令就会执行，&quot;2f&quot;消失.

  +-------------------------------------------------+
  |text in the Vim<A HREF="windows.html#window">窗口</A>				  |
  |~						  |
  |~						  |
  |-- VISUAL <A HREF="starting.html#--">--</A>			2f     43,8   17&#37; |
  +-------------------------------------------------+
   ^^^^^^^^^^^		      ^^^^^^^^ ^^^^^^^^^^
    <A HREF="options.html#'showmode'">'showmode'</A>		     <A HREF="options.html#'showcmd'">'showcmd'</A>	<A HREF="options.html#'ruler'">'ruler'</A>


<B>	set incsearch</B>

展示你输入的搜索<A HREF="pattern.html#pattern">表达式</A>.


<B>	map Q gq</B>

这是定义一个键<A HREF="map.html#mapping">映射</A>.更多信息在下一小节.它定义了&quot;<A HREF="repeat.html#Q">Q</A>&quot;命令去做&quot;<A HREF="change.html#gq">gq</A>&quot; <A HREF="motion.html#operator">操作符</A>相同的事.O这是在 Vim 5.0 版前 "Q" 命令的作用.否则&quot;<A HREF="repeat.html#Q">Q</A>&quot;命令会启动<A HREF="intro.html#Ex">Ex</A>模式,现在你不需要它<A HREF="motion.html#it">它</A>.

<B>	vnoremap _g y:exe "grep /" .. escape(@", '\\/') .. "/ *.c *.h"&lt;CR&gt;</B>

这个<A HREF="map.html#mapping">映射</A>复制可视模式下的选中文本并在C文件中查找<A HREF="motion.html#it">它</A>.这个<A HREF="map.html#mapping">映射</A>相当复杂.但<A HREF="motion.html#it">它</A>只是一个可执行的命令序列，和直接输入它们没区别.


<B>	set hlsearch</B>

此选项Vim会高亮最后匹配的搜索<A HREF="pattern.html#pattern">表达式</A>.当按条件设置配置<A HREF="options\.html#options">选项</A>,&quot;if&quot;会十分有用.更多见|<A HREF="usr_41.html">usr_41.txt</A>|.

              *<A NAME="vimrc-filetype"></A><B>vimrc-filetype</B>* 
<B>	filetype plugin indent on</B>

这启动了三个十分灵巧的机制:
1. 文件类型探测.
   当你开始编辑一个文件时,Vim会尝试确定这是哪类文件.比如当你编辑&quot;main.c&quot;,Vim就会查看&quot;.c&quot;的拓展并认识到这是一个&quot;<A HREF="change.html#c">c</A>&quot; <A HREF="filetype\.html#filetype">文件类型</A>.当你编译一个以&quot;#!/bin/sh&quot;开始的文件时,Vim会意识到<A HREF="motion.html#it">它</A> <A HREF="motion.html#as">是</A>&quot;sh&quot; <A HREF="filetype\.html#filetype">文件类型</A>.<A HREF="filetype\.html#filetype">文件类型</A>探测对于<A HREF="syntax\.html#syntax">语法</A>高亮和下面连个机制是十分有用的.  见 |<A HREF="filetype\.html#filetypes">文件类型</A>|.

2. 使用<A HREF="filetype\.html#filetype">文件类型</A><A HREF="#plugin">插件</A> 
    不同<A HREF="filetype\.html#filetypes">文件类型</A>的文件会开启不同的<A HREF="options\.html#options">选项</A>.例如,当你编辑&quot;<A HREF="change.html#c">c</A>&quot;文件,设置<A HREF="options.html#'cindent'">'cindent'</A>选项去自动缩进是有用的.这些共同有用的选项会写在<A HREF="filetype\.html#filetype">文件类型</A>插件中.你也可以添加自己的设置,见|<A HREF="usr_41.html#write-filetype-plugin">写文件类型插件</A>|.

3. 使用缩进文件
   当编辑代码时,行缩进会自动计算.Vim对于不同的<A HREF="filetype\.html#filetypes">文件类型</A>使用不同的缩进规则.见|<A HREF="filetype.html#:filetype-indent-on">:filetype-indent-on</A>|和<A HREF="options.html#'indentexpr'">'indentexpr'</A>.

==============================================================================

*<A NAME="05.3"></A><B>05.3</B>*	键盘映射

<A HREF="map.html#mapping">映射</A>能绑定Vim命令到键盘的一个键.例如，假设你需要在单词周围添加大括号:把&quot;amount&quot;变为&quot;{amount}&quot;.使用<A HREF="map.html#:map">:map</A> 命令, 可以让F5完成这个<A HREF="job_control.html#job">工作</A>.命令如下:

<B>	:map &lt;F5&gt; i{&lt;Esc&gt;ea}&lt;Esc&gt;</B>
 
  注意:
  输入此命令中的&lt;F5&gt;必须使用四个字符组成.同样地,<A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A>也不是使用<A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A>键,而是键入五个字符.读本手册时注意这个区别!

让我们分解以下命令:
    &lt;F5&gt;	F5 功能键。这是命令的触发器。当这个键被按下时，相应的命令即被 执行

    i{&lt;Esc&gt;	插入 { 字符。<Esc> 键用于退出插入模式

    <A HREF="motion.html#e">e</A>		移动到词尾

    a}&lt;Esc&gt;	插入 } 到单词尾

执行 ":map" 命令后，要在单词两端加上 {}，只需要移到单词的第一个字符上并按 F5.

在这个例子中，触发器是单独一个键；它还可以是任何字符串。但若你使用一个已经存在 的 Vim 命令，该命令将不再有效。最好避免出现这种情况
一个可用于映射的键是反斜杠。因为你很可能想定义多个映射，那就加上另一个字符。你可以映射 "\p" 为在单词两端加圆括号，而映射 "\c" 为加花括号，例如
<B>	:map \p i(&lt;Esc&gt;ea)&lt;Esc&gt;</B>
<B>	:map \c i{&lt;Esc&gt;ea}&lt;Esc&gt;</B>

你需要键入 \ 后快速键入<A HREF="change.html#p">p</A>,以便Vim知道他们是在一起的.

&quot;<A HREF="map.html#:map">:map</A>&quot;命令 (没有参数)列出当前映射.至少列出<A HREF="intro.html#Normal">正常</A>模式的映射.详见|<A HREF="usr_40.html#40.1">40.1</A>|.

==============================================================================

*<A NAME="05.4"></A><B>05.4</B>*	添加软件包			*<A NAME="add-package"></A><B>add-package</B>* *<A NAME="vimball-install"></A><B>vimball-install</B>*

A package is a set of files that you can add to Vim.  There are two kinds of
<A HREF="repeat.html#packages">packages</A>: optional and automatically loaded on <A HREF="starting.html#startup">startup</A>.

The Vim <A HREF="intro.html#distribution">distribution</A> comes with a few <A HREF="repeat.html#packages">packages</A> that you can optionally use.
For example, the vimball <A HREF="#plugin">插件</A>.  This <A HREF="#plugin">插件</A> supports creating and using
vimballs (self-installing Vim <A HREF="#plugin">插件</A> archives).

To start using the vimball <A HREF="#plugin">插件</A>, add one line to your <A HREF="starting\.html#vimrc">vimrc</A>文件:
<B>	packadd vimball</B>

That's all!  You can also type the command to try <A HREF="motion.html#it">它</A> out.  Now you can find
help about this <A HREF="#plugin">插件</A>:
<B>	:help vimball</B>

This works, because when `:packadd` loaded the <A HREF="#plugin">插件</A> <A HREF="motion.html#it">它</A> also added the
package directory in <A HREF="options.html#'runtimepath'">'runtimepath'</A>, so that the help file can be found.  The
<A HREF="tagsrch.html#tags">标签</A> for vimball's help are already created.  If you need to generate the help
<A HREF="tagsrch.html#tags">标签</A> for a package, see the `:helptags` command.

You can find <A HREF="repeat.html#packages">packages</A> on the Internet in various places.  It usually comes <A HREF="motion.html#as">as</A>
an archive or <A HREF="motion.html#as">as</A> a repository.  For an archive you can follow these steps:
  1. create the package directory:
<B>		mkdir -p ~/.local/share/nvim/site/pack/fancy</B>
      &quot;fancy&quot; can be any name of your liking.  Use one that describes the
     package.
  2. unpack the archive in that directory.  This assumes the top
     directory in the archive is &quot;start&quot;:
<B>	   	cd ~/.local/share/nvim/site/pack/fancy</B>
<B>		unzip /tmp/fancy.zip</B>
      If the archive layout is different make sure that you end up with a
     path like this:
<B><FONT color="#3A6F2B">		~/.local/share/nvim/site/pack/fancy/start/fancytext/plugin/fancy.vim </FONT></B>
     Here &quot;fancytext&quot; is the name of the package, <A HREF="motion.html#it">它</A> can be anything
     else.

More information about packages can be found here: |<A HREF="repeat.html#packages">packages</A>|.

==============================================================================

*<A NAME="05.5"></A><B>05.5</B>*	添加<A HREF="#plugin">插件</A>					*<A NAME="add-plugin"></A><B>add-plugin</B>* *<A NAME="plugin"></A><B>plugin</B>*

Vim's functionality can be extended by adding plugins.  A <A HREF="#plugin">插件</A> is nothing
more than a Vim <A HREF="usr_41.html#script">script</A> file that is loaded automatically when Vim starts.  You
can add a <A HREF="#plugin">插件</A> very easily by dropping <A HREF="motion.html#it">它</A> in your <A HREF="#plugin">插件</A> directory.

There are two types of plugins:

    global <A HREF="#plugin">插件</A>: Used for all kinds of files
  <A HREF="filetype\.html#filetype">文件类型</A> <A HREF="#plugin">插件</A>: Only used for a specific type of file

The global plugins will be discussed first然后the <A HREF="filetype\.html#filetype">文件类型</A> ones
|<A HREF="#add-filetype-plugin">add-filetype-plugin</A>|.



GLOBAL PLUGINS						*<A NAME="standard-plugin"></A><B>standard-plugin</B>*

When you start Vim, <A HREF="motion.html#it">它</A> will automatically load a number of global plugins.
You don't have to <A HREF="diff.html#do">do</A> anything for this.  They add functionality that most
people will want to use, but which was implemented <A HREF="motion.html#as">as</A> a Vim <A HREF="usr_41.html#script">script</A> instead of
being compiled into Vim.  You can find them listed in the help index
|<A HREF="index.html#standard-plugin-list">standard-plugin-list</A>|.  Also 见 |<A HREF="starting.html#load-plugins">load-plugins</A>|.


              *<A NAME="add-global-plugin"></A><B>add-global-plugin</B>*
You can add a global <A HREF="#plugin">插件</A> to add functionality that will always be present
when you use Vim.  There are only two steps for adding a global <A HREF="#plugin">插件</A>:
1. Get a copy of the <A HREF="#plugin">插件</A>.
2. Drop <A HREF="motion.html#it">它</A> in the right directory.


GETTING A GLOBAL PLUGIN

Where can you find plugins?
- Some are always loaded, you can see them in the directory $VIMRUNTIME/plugin.
- Some come with Vim.  You can find them in the directory $VIMRUNTIME/macros
  and its sub-directories and under $VIM/vimfiles/pack/dist/opt/.
 - Download from the net. There is a large collection on	<A HREF="http://www.vim.org">http://www.vim.org</A>.
- They are sometimes posted in a Vim maillist.
- You could write one yourself, 见 |<A HREF="usr_41.html#write-plugin">write-plugin</A>|.


USING A GLOBAL PLUGIN

First read the text in the <A HREF="#plugin">插件</A> itself to check for any special conditions.
Then copy the file to your <A HREF="#plugin">插件</A> directory:

<B><FONT color="#3A6F2B">	system		plugin directory </FONT></B>
  Unix		~/.local/share/nvim/site/plugin

Example for Unix (assuming you didn't have a <A HREF="#plugin">插件</A> directory yet):

<B>	mkdir -p ~/.local/share/nvim/site/plugin</B>
<B>	cp /tmp/yourplugin.vim ~/.local/share/nvim/site/plugin</B>

That's all!  Now you can use the commands defined in this <A HREF="#plugin">插件</A>.

Instead of putting plugins directly into the plugin/ directory, you may
better organize them by putting them into subdirectories under plugin/.
As an example, consider using &quot;~/.local/share/nvim/site/plugin/perl/*.vim&quot; for 
all your Perl plugins.



FILETYPE PLUGINS			*<A NAME="add-filetype-plugin"></A><B>add-filetype-plugin</B>* *<A NAME="ftplugins"></A><B>ftplugins</B>*

The Vim <A HREF="intro.html#distribution">distribution</A> comes with a set of plugins for different <A HREF="filetype\.html#filetypes">文件类型</A> that
you can start using with this command:

<B>	:filetype plugin on</B>

That's all!  见 |<A HREF="#vimrc-filetype">vimrc-filetype</A>|.

If you are missing a <A HREF="#plugin">插件</A> for a <A HREF="filetype\.html#filetype">文件类型</A> you are using, or you found a
better one, you can add <A HREF="motion.html#it">它</A>.  There are two steps for adding a <A HREF="filetype\.html#filetype">文件类型</A> <A HREF="#plugin">插件</A>:
1. Get a copy of the <A HREF="#plugin">插件</A>.
2. Drop <A HREF="motion.html#it">它</A> in the right directory.


GETTING A FILETYPE PLUGIN

You can find them in the same places <A HREF="motion.html#as">as</A> the global plugins.  Watch out if the
type of file is mentioned然后you know if the <A HREF="#plugin">插件</A> is a global or a
<A HREF="filetype\.html#filetype">文件类型</A> one.  The scripts in $VIMRUNTIME/macros are global ones, the <A HREF="filetype\.html#filetype">文件类型</A>
plugins are in $VIMRUNTIME/ftplugin.



USING A FILETYPE PLUGIN					*<A NAME="ftplugin-name"></A><B>ftplugin-name</B>*

You can add a <A HREF="filetype\.html#filetype">文件类型</A> <A HREF="#plugin">插件</A> by dropping <A HREF="motion.html#it">它</A> in the right directory.  The
name of this directory is in the same directory mentioned above for global
plugins, but the last part is &quot;<A HREF="usr_41.html#ftplugin">ftplugin</A>&quot;.  Suppose you have found a <A HREF="#plugin">插件</A> for
the &quot;stuff&quot; <A HREF="filetype\.html#filetype">文件类型</A>, and you are on Unix.  Then you can move this file to the
<A HREF="usr_41.html#ftplugin">ftplugin</A> directory:

<B>	mkdir -p ~/.local/share/nvim/site/ftplugin</B>
<B>	mv thefile ~/.local/share/nvim/site/ftplugin/stuff.vim</B>

If that file already exists you already have a <A HREF="#plugin">插件</A> for &quot;stuff&quot;.  You might
want to check if the existing <A HREF="#plugin">插件</A> doesn't conflict with the one you are
adding.  If it's OK, you can give the new one another name:

<B>	mv thefile ~/.local/share/nvim/site/ftplugin/stuff_too.vim</B>

The underscore is used to separate the name of the <A HREF="filetype\.html#filetype">文件类型</A> from the rest,
which can be anything.  If you use &quot;otherstuff.vim&quot; <A HREF="motion.html#it">它</A> wouldn't work, <A HREF="motion.html#it">它</A> would
be loaded for the &quot;otherstuff&quot; <A HREF="filetype\.html#filetype">文件类型</A>.

The generic names for the <A HREF="filetype\.html#filetype">文件类型</A> plugins are:

<B>	ftplugin/&lt;filetype&gt;.vim</B>
<B>	ftplugin/&lt;filetype&gt;_&lt;name&gt;.vim</B>
<B>	ftplugin/&lt;filetype&gt;/&lt;name&gt;.vim</B>

Here &quot;&lt;name&gt;&quot; can be any name that you prefer.
Examples for the &quot;stuff&quot; <A HREF="filetype\.html#filetype">文件类型</A> on Unix:

<B>	~/.local/share/nvim/site/ftplugin/stuff.vim</B>
<B>	~/.local/share/nvim/site/ftplugin/stuff_def.vim</B>
<B>	~/.local/share/nvim/site/ftplugin/stuff/header.vim</B>

The &lt;filetype&gt; part is the name of the <A HREF="filetype\.html#filetype">文件类型</A> the <A HREF="#plugin">插件</A> is to be used for.
Only files of this <A HREF="filetype\.html#filetype">文件类型</A> will use the settings from the <A HREF="#plugin">插件</A>.  The &lt;name&gt;
part of the <A HREF="#plugin">插件</A> file doesn't matter, you can use <A HREF="motion.html#it">它</A> to have several plugins
for the same <A HREF="filetype\.html#filetype">文件类型</A>.  Note that <A HREF="motion.html#it">它</A> must end in &quot;.vim&quot; or &quot;.lua&quot;.


深入阅读:
|<A HREF="filetype.html#filetype-plugins">filetype-plugins</A>|	Documentation for the filetype plugins and information
      about how to avoid that mappings cause problems.
|<A HREF="starting.html#load-plugins">load-plugins</A>|		When the global plugins are loaded during <A HREF="starting.html#startup">startup</A>.
|<A HREF="filetype.html#ftplugin-overrule">ftplugin-overrule</A>|	Overruling the settings from a global plugin.
|<A HREF="usr_41.html#write-plugin">write-plugin</A>|		How to write a plugin <A HREF="usr_41.html#script">script</A>.
|<A HREF="filetype.html#plugin-details">plugin-details</A>|	For more information about using plugins or when your
      <A HREF="#plugin">插件</A> doesn't work.
|<A HREF="filetype.html#new-filetype">new-filetype</A>|		How to detect a new file type.

==============================================================================

*<A NAME="05.6"></A><B>05.6</B>*	添加帮助文件		                   *<A NAME="add-local-help"></A><B>add-local-help</B>*

如果有幸你安装的<A HREF="#plugin">插件</A>携带帮助文件.我们会说明如何安装帮助文件，为例你能更容易使用新<A HREF="#plugin">插件</A>.

让我们假定一个有帮助文件的<A HREF="#plugin">插件</A> (&quot;my-plugin&quot;),但是文件不在标准地方 (它经常放到`doc/`目录下).

首先在<A HREF="options.html#'runtimepath'">'runtimepath'</A>中创建&quot;doc&quot;:

<B>	:!mkdir -p ~/.local/share/nvim/site/doc</B>

拷贝帮助文件到&quot;doc&quot;文件夹:

<B>	:!cp my-plugin/my-plugin-doc.txt ~/.local/share/nvim/site/doc</B>

有一个小窍门，可以让你快速跳转到新帮助文件中.使用|<A HREF="helphelp.html#:helptags">:helptags</A>|命令生成本地标签文件:

<B>	:helptags ~/.local/share/nvim/site/doc</B>

如此便可以看见一个本地标签文件的条目.

<B>	:help local-additions</B>

本地帮助的标题行被自动的加入到该节了。在那里你可以看到 Vim 添加了那些本地的帮助文件。你还可以从这里跳转到新的帮助中。

<A HREF="editing.html#writing">写</A>一个本地帮助文件, 见 |<A HREF="usr_41.html#write-local-help">write-local-help</A>|.

==============================================================================

*<A NAME="05.7"></A><B>05.7</B>*	选项<A HREF="windows\.html#window">窗口</A>

如果你想要查找一个选项，你可以在这个帮助文件中查找: |<A HREF="options\.html#options">选项</A>|.  另一种方法是使用下面的命令:

<B>	:options</B>

这会打开一个新窗口，其中给出一个选项的列表，并对每个选项提供一行解释.<A HREF="options\.html#options">选项</A>根据种类分组.移动光标并使用<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A> 跳转对应内容.再次使用<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>跳转回来.或者使用<A HREF="motion.html#CTRL-O">CTRL-O</A>.

你也能改变选项的值.例如,移动到&quot;displaying text&quot;主题.然后光标移到下面的行:

<B><FONT color="#3A6F2B">	set wrap	nowrap </FONT></B>

当你敲击<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>,此行会变成:

<B><FONT color="#3A6F2B">	set nowrap	wrap </FONT></B>

现在此选项切换为关闭.

这行的上方是对这个选项的简要描述。将光标向上移动一行，然后按 <Enter>，你可以跳转到 'wrap' 的完整帮助，再用 CTRL-O 可以跳回来。

对于那些值为数值或者字符串的选项，你可以编辑它的值，然后按 <Enter> 来启用该值。例如，把光标移动到下面这行;

<B><FONT color="#3A6F2B">	set so=0 </FONT></B>

用 $ 移到行尾，再用 "r5" 命令修改为五，然后按 <Enter> 使修改生效。现在如果你移动一下光标，你会发现在你的光标移到窗口边界前，你的文字就开始滚动了。这就是选项 'scrolloff' 完成的功能: 它指定在距离边界多远的地方开始滚动文字

==============================================================================

*<A NAME="05.8"></A><B>05.8</B>*	常用<A HREF="options\\.html#options">选项</A>

Vim 中有很多选项。大部分你很少用得上。我们在这个介绍一些常用的。别忘了你可以通过 ":help" 命令获得更多的帮助。方法是在选项命令前后加上单引号例如:

<B>	:help 'wrap'</B>

如果你搞乱了一个选项，你可以通过在选项后加上一个 & 号把它恢复到默认值.例如:

<B>	:set iskeyword&amp;</B>


不换行

Vim 通常会对长行自动回绕，以便你可以看见所有的文字。但有时最好还是能让文字在一行中显示完。这样，你需要左右移动才能看到一整行。以下命令可以关闭行的回绕.

<B>	:set nowrap</B>

当你移动到那些不能显示的文字上，Vim 会自动向右滚动让你看到后面的文字，要一次滚动十个字符，这样就行了:

<B>	:set sidescroll=10</B>

这个命令不改变文件中的文本，只改变显示方式.


移动命令换行

大多数命令移动到行首和行尾就会停止.你可以改变<A HREF="options.html#'whichwrap'">'whichwrap'</A>选项.设置<A HREF="motion.html#it">它</A>未默认值:

<B>	:set whichwrap=b,s</B>

当光标在行首时，可以使用<A HREF="motion.html#&lt;BS&gt;">&lt;BS&gt;</A>键,移动到上一行的结尾.使用<A HREF="motion.html#&lt;Space&gt;">&lt;Space&gt;</A>键从行尾移动到下一行行首.

允许<A HREF="motion.html#&lt;Left&gt;">&lt;Left&gt;</A>和<A HREF="motion.html#&lt;Right&gt;">&lt;Right&gt;</A>也自动换行，使用下面的命令:

<B>	:set whichwrap=b,s,&lt;,&gt;</B>

这只在<A HREF="intro.html#Normal">正常</A>模式起作用.让<A HREF="motion.html#&lt;Left&gt;">&lt;Left&gt;</A>和<A HREF="motion.html#&lt;Right&gt;">&lt;Right&gt;</A>在<A HREF="intro.html#Insert">插入</A>模式起作用，可以:

<B>	:set whichwrap=b,s,&lt;,&gt;,[,]</B>

也能加入其他内容，详见<A HREF="options.html#'whichwrap'">'whichwrap'</A>.


显示 TAB 键

当文件中有很多TAB键，但都不可见，可以使用:

<B>	:set list</B>

现在每一个<A HREF="intro.html#tab">tab</A>都显示<A HREF="motion.html#as">为</A> ^I.而$显示在每行的结尾，以便你能找到可能会被你忽略的空白字符在哪里。 缺点时文件中很多TAB键会显得很难看. 如果你使用显示颜色的<A HREF="nvim_terminal_emulator\.html#terminal">终端</A>或者使用<A HREF="gui.html#GUI">GUI</A>,Vim可以使用高亮展现空格和字符.使用<A HREF="options.html#'listchars'">'listchars'</A> 选项:

<B>	:set listchars=tab:&gt;-,trail:-</B>

现在每一个<A HREF="intro.html#tab">tab</A>会显示成<A HREF="motion.html#as">as</A> &quot;&gt;---&quot; (&quot;<A HREF="motion.html#-">-</A>&quot;数目不定)，显示空格为&quot;<A HREF="motion.html#-">-</A>&quot;. 看起来更好了，不是吗?


关键字

<A HREF="options.html#'iskeyword'">'iskeyword'</A>选项指定在<A HREF="motion.html#word">单词</A>中的字符:

<B>	:set iskeyword</B>
<B><FONT color="#3A6F2B"> 	  iskeyword=@,48-57,_,192-255 </FONT></B>

&quot;<A HREF="repeat.html#@">@</A>&quot;代表所有的字母.&quot;48-57&quot;代表ASCII characters 48 to 57,也就是数字0到9.&quot;192-255&quot;时可打印拉丁字母.
有时你希望横线也是关键字, 为了如&quot;<A HREF="motion.html#w">w</A>&quot;命令能认识到&quot;upper-case&quot;是一个<A HREF="motion.html#word">单词</A>.你可以这样做:

<B>	:set iskeyword+=-</B>
<B>	:set iskeyword</B>
<B><FONT color="#3A6F2B"> 	  iskeyword=@,48-57,_,192-255,- </FONT></B>

查看新值，你会发现Vim给 - 添加了逗号. 从中删除字符使用&quot;-=&quot;.例如,删除下划线:

<B>	:set iskeyword-=_</B>
<B>	:set iskeyword</B>
<B><FONT color="#3A6F2B"> 	  iskeyword=@,48-57,192-255,- </FONT></B>

逗号也随之删除.


显示消息的空间

当 Vim 启动的时候，在屏幕底部有一行被用于显示消息。当消息很长的时候，多余的部分会被截断。这样你只能看到一部分或者文字自动滚动，你要按<A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A>继续.
   你可以设置<A HREF="options.html#'cmdheight'">'cmdheight'</A> option to the number of lines used for <A HREF="message.html#messages">信息</A>.  Example:

<B>	:set cmdheight=3</B>

这样意味着你用于编辑文字的空间少了，所以这实际上是一种折衷.

==============================================================================

下一章: |<A HREF="usr_06.html">usr_06.txt</A>|  使用<A HREF="syntax\.html#syntax">语法</A>高亮
<A HREF="#top">top</A> - <A HREF="index\.html">主帮助文件</A>
</PRE>
    </div>
</body>

</html>